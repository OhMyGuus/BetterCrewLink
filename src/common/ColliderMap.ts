import { MapType, Vector2 } from './AmongusMap';
import intersect from 'path-intersection';

export const colliderMaps: { [key in MapType]: string[] | undefined } = {
	[MapType.THE_SKELD]: [
		'M 38.575423,44.398703 36.353734,44.375313 33.898182,41.943051 33.886492,39.604333 H 31.793427 L 31.781747,40.317644 33.196613,40.352684 33.184933,42.808334 34.892127,44.562373 34.927187,45.720038 29.875767,45.708378 29.09233,44.702733 V 40.32933 L 30.285027,40.36437 30.296707,39.615982 25.420686,39.604312 V 41.568832 L 24.111058,41.557172 24.122738,44.153146 25.759773,44.082956 25.771453,42.92529 26.695208,42.036581 27.618966,42.059971 28.320549,42.77328 28.297169,47.158371 25.748074,47.193411 25.771454,45.88373 24.111035,45.95394 24.134405,48.70193 25.432337,48.67854 25.444017,50.292253 28.835015,50.257213 28.870075,53.063671 29.957531,53.122101 V 46.912812 L 34.927097,46.877772 34.938787,48.035435 33.687629,49.22818 33.722689,51.297943 32.693695,52.210046 H 31.325603 L 31.372343,53.098753 35.008902,53.063713 34.985522,49.672573 36.552402,48.222572 38.540225,48.199182 Z',
		'M 40.067838,44.383854 40.084378,45.814257 46.84779,45.789467 46.83949,49.320001 45.979594,50.171628 41.986039,50.179928 V 47.600241 L 40.092615,47.575451 40.067825,48.23691 40.93599,48.2617 40.92769,50.849656 H 46.938692 L 46.946992,50.64295 47.947448,49.56808 47.997058,49.57638 48.600639,49.53504 48.608939,45.020587 50.899238,45.061927 50.932308,43.871302 47.60848,43.854762 47.62502,44.970973 44.044876,44.962673 44.061416,43.598415 45.591038,42.019183 V 41.61404 L 47.600218,41.65538 47.616758,42.02745 48.575873,42.01915 48.608943,40.828525 H 48.054958 L 46.980089,39.82807 V 39.563486 L 44.830349,39.522146 V 41.903396 L 42.39121,44.41694 Z',
		'M 35.892382,33.436718 33.908007,35.338411 33.899707,37.686588 H 25.433041 L 25.424741,36.471158 H 22.076095 L 20.88547,37.562565 20.87717,41.564387 22.60523,41.556087 22.64657,44.144043 21.158289,44.094433 21.141749,42.672297 19.636931,42.721907 19.595591,41.02692 18.669549,41.03522 16.974562,42.11009 16.982862,47.823436 18.644777,48.840428 19.645232,48.865218 19.612162,47.195035 21.166589,47.261185 21.141789,45.913464 22.646606,45.921764 22.663146,48.658548 H 20.827599 L 20.811059,52.80093 22.084366,53.702167 25.432999,53.718707 25.416459,52.040256 27.409102,52.073326 27.450442,54.917597 34.999336,54.867987 35.024126,55.165643 37.107813,57.224414 40.952539,57.199604 V 52.61901 L 44.243294,52.63555 44.259834,53.495446 C 44.259834,53.495446 41.481709,53.429296 41.489977,53.462376 41.498277,53.495446 41.523047,56.19916 41.523047,56.19916 L 42.506966,57.166543 C 42.506966,57.166543 45.342969,57.133473 45.376042,57.150003 45.409112,57.166543 46.417839,56.18262 46.417839,56.18262 L 46.426139,53.495446 45.797753,53.454106 V 52.643819 H 46.971842 L 46.988382,54.677804 49.295218,54.636464 51.453226,52.577675 51.428416,49.559772 H 50.113768 L 50.097228,46.880865 52.428868,46.864325 V 45.218947 L 55.36409,45.177607 55.37239,46.525329 57.158327,46.550129 58.721023,45.260286 58.754093,43.391666 57.141788,42.077017 55.380655,42.043947 55.364115,43.399937 52.420625,43.383397 V 42.052213 L 50.105521,42.060513 50.080711,40.836815 51.428432,40.820275 51.453242,37.827176 49.295234,35.735314 46.98013,35.760124 46.95532,37.69489 44.879995,37.73623 44.855185,36.272753 41.977842,33.445019 Z',
	],
	[MapType.MIRA_HQ]: [
		'M 62.718433,18.48407 62.696841,23.385803 58.950362,23.375006 58.928767,21.906645 58.810003,21.885052 58.799205,23.806877 58.810003,27.639729 62.740029,31.526567 64.132811,31.537365 64.175996,33.739904 H 68.883389 L 68.948169,39.494584 68.906834,40.28329 66.627632,40.235087 66.562083,40.352 H 68.899199 L 68.894187,42.323337 60.224381,42.312539 60.235176,43.327436 57.827497,43.424607 57.773514,40.401512 57.881482,40.304341 60.699438,40.325934 60.65625,40.185575 57.816702,40.271951 57.805904,38.274548 58.820801,38.242157 58.766815,38.188175 57.751921,38.220565 57.784311,33.772295 60.915372,33.750702 60.92617,38.134189 59.878883,38.177377 59.911273,38.242157 61.012545,38.29614 V 33.739904 L 62.005847,33.729107 57.741123,29.475181 53.379229,33.772295 53.50879,33.869466 53.4764,35.337826 53.551976,35.327029 53.562773,33.761497 57.05013,33.772295 V 37.4324 L 53.551976,37.389212 V 36.406706 L 53.50879,36.395911 53.465602,39.030322 53.551976,38.997932 V 37.464791 L 57.060927,37.497181 57.039332,41.902263 53.551976,41.891465 53.541181,40.109999 53.454805,40.163982 V 41.880668 L 43.651339,41.826685 43.672931,42.312539 33.966636,42.334132 33.945044,39.624145 M 33.945044,39.624145 H 33.232457 L 33.25405,35.607746 37.864272,35.569956 37.891262,39.624145 37.232658,39.63494 37.243456,40.423105 43.818688,40.40691 43.81329,39.726713 51.219875,39.721316 51.23607,36.363521 51.117306,36.385113 51.106509,39.543169 48.283153,39.553964 43.824088,39.521574 43.851078,37.011326 44.979341,37.016724 45.011731,36.854772 45.017131,30.203962 40.099202,30.187767 40.061414,30.085199 40.056014,23.434388 44.871375,23.407396 44.898365,29.081097 44.963146,29.0757 44.984741,24.800179 47.149493,24.794781 47.219671,25.512766 47.257459,24.762391 52.06742,24.767789 52.09981,30.144579 47.322239,30.160775 47.268256,30.133784 47.273654,26.565452 47.187281,26.57085 47.171086,30.80858 47.192678,36.995131 48.315543,36.989731 48.288551,33.772295 51.084916,33.7561 51.122704,35.337826 51.176687,35.316234 V 31.515769 L 52.688235,31.526567 56.499495,27.823276 56.531885,23.321022 52.763814,23.375006 52.709828,20.006414 52.699033,18.527256 53.50879,18.494866 56.402324,18.538053 56.445512,22.446484 56.510292,22.42489 56.521087,18.473273 57.179691,18.51646 57.147301,18.376102 52.688235,18.386898 52.677438,17.350409 54.404921,15.914438 56.002843,15.029103 56.942161,14.813168 58.45371,14.888745 59.706136,15.234242 61.120511,16.054796 62.470109,17.188457 62.767299,17.7466 62.696841,18.397695 H 58.313351 L 58.345741,18.451679 58.78841,18.484069 58.810003,20.826968 58.874784,20.816172 58.896376,18.462476 62.718435,18.48407',
	],
	[MapType.POLUS]: [
		'M 54.122079,60.018712 V 61.455286 L 54.50628,61.421877 54.439462,63.77719 53.403793,64.979904 49.728836,65.096834 49.778948,61.388468 52.384827,61.338356 52.401532,60.068827',
		'M 51.349158,48.225445 51.315749,47.674201 41.677341,47.807837 41.643932,49.996105 41.994724,50.079626 H 41.627229 V 52.585278 L 44.600603,52.668802 44.567194,57.663399 H 44.299922 L 44.283219,55.057521 43.314368,54.038558 40.274176,54.071966 40.286706,57.717689 42.545968,57.730217 42.537617,60.494786 42.537615,57.742746 40.286706,57.755273 40.274177,60.39456 40.875534,60.419617 40.265825,60.457201 40.274176,62.181926 42.813237,62.206983 40.274176,62.240389 40.257473,64.812859 44.500376,64.796156 44.508729,61.739261 45.268776,61.755965',
		'M 46.7054 61.7894 L 47.0478 61.781 V 57.772 L 46.4798 57.7636 L 46.4882 53.4873 M 48.4259 50.0963 L 51.3742 50.0963',
		'M 46.4882 53.4873 V 52.6521 H 46.6803 V 50.51 H 46.9599',
		'M 43.456354,50.096332 H 44.608953 L 44.600603,52.668802',
		'M 50.179853,59.267018 50.196557,54.62321 53.370384,54.639915 53.387088,57.529764 51.783469,57.546468 51.766765,59.267018',
		'M 54.357701,46.278458 54.334076,43.46726 54.168711,43.278274 V 39.474888 L 55.727864,38.718937 57.664992,38.695312 59.365885,39.380395 59.436756,43.490885 59.129649,43.656249 59.20052,46.254836',
		'M 57.357885,49.774739 H 62.862166 V 52.751301 H 58.562686 V 51.452009 H 57.263392',
		'M 68.796846,57.490092 V 57.746923 L 65.62021,57.717394 65.153738,57.723299 65.555338,57.771299 65.55049,59.619057 61.911784,59.642763 61.955475,62.179145 61.969662,59.642763 65.556387,59.646642 65.558291,63.157459 H 66.972655 V 59.271391 H 73.669921 V 58.928849 L 74.851098,57.747675 H 78.193825 V 50.885044 L 72.616904,50.872642 72.604502,50.487328 72.624999,48.383945 75.516876,48.379798 75.53266,49.500238 75.571889,48.372036 75.659456,48.365698 72.626033,48.35914 72.629892,48.079308 72.601523,48.355887 72.236471,48.370193 72.604226,48.381551 72.571429,50.486987 64.893787,50.495255 V 50.129093',
		'M 57.446243,60.553253 57.454595,59.667921 57.955726,59.634512 55.809218,59.651217 55.814173,57.73119 56.654127,57.724188 55.820079,57.689849 55.788337,55.170276 63.485236,55.176677 63.50602,57.659222 62.98827,57.721917 63.769865,57.721365 63.533164,57.66131 63.529531,55.176648 68.796846,55.166101 68.821902,55.934501',
		'M 57.437892,62.19863 V 62.632944 H 59.584399 V 59.65957 H 59.392301 60.327743 59.601105 V 65.43092 L 60.528195,65.447624 60.603365,63.418048 60.595012,65.447624 62.808339,65.455976 V 62.850101 H 63.292764',
		'M 57.997486,57.74024 61.58725,57.716853',
		'M 62.93776,65.385155 65.480239,65.372752 65.455434,64.930403 65.889517,64.934536 68.688312,64.926267 V 60.854166 H 73.711262 L 75.087921,62.230825 H 78.217447 L 79.397737,61.050537 V 58.886327 L 79.986848,58.142187 V 50.866145 L 81.227082,50.849609 81.196481,48.426732 H 77.13315 L 81.202328,48.36242 81.254946,45.84257 H 77.103916 L 77.086377,44.907125 75.753369,44.895433 75.741677,45.655481 75.045942,44.901281 73.210133,44.91882 72.648867,45.509317 72.566111,45.921744 68.78753,45.888671 68.795799,48.302994 70.788442,48.294726 V 48.410481 L 67.435676,48.439419 67.415004,48.327799 68.692447,48.294726 68.688312,45.901072 64.967609,45.917609 64.95934,48.327799 66.083819,48.319531 66.096223,48.422882 64.963476,48.435286 64.95934,48.637856 64.851853,48.65026 64.860122,46.012695 64.649283,45.979622 64.624478,46.293815 64.516991,46.343424 64.558333,43.46608 64.938671,42.978255 64.905598,42.498697 64.566601,42.1597 63.921679,42.134895 63.54134,42.523502 63.483463,42.969986 63.640559,43.292447 63.847265,43.457812 63.888606,46.35996',
	],
	[MapType.AIRSHIP]: [
		'M 25.4672 56.6081 L 25.4672 55.06 L 25.1413 55.06 L 25.1413 52.86 L 25.1168 53.0392 L 22.7783 53.0229 L 22.7783 50.4155 L 31.008 50.4155 L 31.008 50.8229 L 31.2524 50.8229 L 31.2524 47.7104 L 30.9672 49.8044 L 24.9294 49.9266 L 24.1635 49.1444 L 24.1635 47.1726 L 25.0924 46.6674 L 27.8709 46.6674 L 26.445 48.2155 L 26.8117 48.2155 L 28.5635 46.4637 L 28.5635 45.6489 L 26.7546 43.3674 L 26.2413 43.3104 L 27.8302 45.3637 L 25.3206 45.3637 L 24.5709 44.2637 L 24.5709 42.3733 L 25.4672 41.6155 L 23.8376 41.6155 L 23.8376 41.4526 L 23.5931 41.4526 L 23.5931 43.7422 L 14.6465 43.8237 L 14.6139 37.8104 L 23.5931 37.7859 L 23.5931 39.66 L 23.8376 39.66 L 23.8376 39.3341 L 25.8339 39.3096 L 25.2228 39.2444 L 24.7339 38.397 L 24.7339 36.4007 L 26.5265 36.4007 L 26.5265 36.6452 L 27.3413 36.6452 L 27.3413 35.8304 L 28.482 35.8304 L 28.482 39.2037 L 27.5694 39.2852 L 31.1709 39.3341 L 31.1709 39.66 L 31.3339 39.66 L 31.3339 36.8081 L 37.445 36.8081 L 37.445 32.1637 L 36.3043 32.1637 L 36.3043 31.6748 L 35.6687 34.7385 L 25.9806 34.7548 L 26.3635 24.1296 L 36.4591 24.1704 L 36.1902 29.8496 L 36.1983 30.0859 L 42.9043 30.1348 L 42.9043 29.8822 L 43.882 29.8822 L 43.882 25.7185 L 42.9043 25.4822 L 42.9043 22.1415 L 47.0598 22.1415 L 47.0598 22.5489 L 47.6302 22.5489 L 47.6302 22.1415 L 54.4746 22.1415 L 54.4746 23.3637 L 54.6376 23.3637 L 54.6376 22.7933 L 56.5931 22.7933 L 56.5931 23.2007 L 57.9294 23.1926 L 57.9783 25.4496 L 54.6376 25.4822 L 54.6376 25.1563 L 54.4746 25.1563 L 54.4746 26.0526 L 47.6302 26.0526 L 47.6302 25.4822 L 47.0598 25.4822 L 47.0598 26.0526 L 45.9191 26.0526 L 45.8702 25.5474 L 45.0309 25.637 L 45.0228 29.8822 L 45.9191 29.8822 L 45.9191 30.7785 L 49.5043 30.7785 L 49.5043 29.8822 L 56.3487 29.9229 L 56.5198 26.2074 L 63.8368 26.0444 L 63.845 29.4748 L 64.008 29.4748 L 64.008 28.8229 L 67.6746 28.8229 L 67.6746 33.2229 L 67.8376 33.2229 L 67.8376 32.897 L 68.5709 32.897 L 68.5709 31.1859 L 69.948 31.1859 L 70.005 32.9378 L 70.0376 31.1859 L 71.4228 31.1859 L 71.4228 32.897 L 71.5857 32.897 L 71.5857 31.1859 L 72.9709 31.1859 L 72.9709 32.897 L 73.1339 32.897 L 73.1339 31.1859 L 74.4376 31.1859 L 74.4376 32.897 L 75.0894 32.897 L 75.0894 35.097 L 74.5191 35.097 L 74.5191 35.26 L 75.7413 35.26 L 75.7413 36.1563 L 79.7339 36.1563 L 79.7339 43.9785 L 73.3457 44.0111 L 73.4598 44.0681 L 73.4598 46.5044 L 70.9339 46.5044 L 70.9339 47.5637 L 67.2672 47.5637 L 67.2672 46.5044 L 66.6968 46.5044 L 66.6968 46.097 L 66.4524 46.097 L 66.4524 49.7311 L 65.8331 50.3341 L 62.248 50.3341 L 61.4006 49.4704 L 61.4006 48.8674 L 61.2376 48.8674 L 61.2376 49.1118 L 59.9339 49.1118 L 59.9339 49.4378 L 60.5857 49.4378 L 60.5857 51.5563 L 57.9783 51.5563 L 57.9783 51.3933 L 57.5709 51.3933 L 57.5709 51.5563 L 54.882 51.5563 L 54.882 51.2304 L 52.9346 51.2304 L 52.6006 50.8718 L 52.6006 49.1118 L 51.8672 49.1118 L 51.8672 48.8674 L 51.5413 48.8674 L 51.5413 49.1118 L 50.808 49.1118 L 50.808 50.66 L 49.4228 50.66 L 49.4228 52.86 L 47.7931 52.86 L 47.7931 53.9192 L 50.8813 53.9763 L 50.808 56.6081 L 45.0472 56.5674 L 44.9413 53.2674 L 46.245 53.2674 L 46.245 52.86 L 44.5339 52.86 L 44.5339 52.5341 L 44.2894 52.5341 L 44.2894 52.86 L 41.3968 52.86 L 38.5043 52.86 L 38.5043 52.5341 L 38.3413 52.5341 L 38.3413 52.9415 L 31.2524 52.9415 L 31.2524 52.4363 L 31.0487 52.5096 L 30.9998 53.0229 L 27.3006 53.0392 L 27.2598 52.86 L 27.2598 55.06 L 26.445 55.06 L 26.445 56.6081 Z M 44.4931 48.7452 L 49.3413 48.7044 L 49.3413 46.757 L 48.9746 46.7081 L 48.9746 44.5896 L 51.4761 44.5407 L 51.7206 44.7444 L 51.8591 44.5081 L 54.5154 44.5407 L 54.5724 44.7118 L 54.8006 44.7118 L 54.8006 44.5489 L 57.6524 44.5489 L 57.6524 44.7118 L 57.8968 44.7118 L 57.8968 44.5489 L 58.5487 44.5489 L 58.5487 44.3044 L 56.9191 44.3044 L 56.9191 42.5933 L 60.5857 42.5933 L 60.5857 44.3044 L 59.9339 44.3044 L 59.9339 44.5489 L 60.6754 44.5489 L 60.6265 46.7081 L 59.9339 46.757 L 59.9339 46.9118 L 61.2294 46.9118 L 61.2946 47.36 L 61.3191 44.9889 L 62.4517 44.06 L 66.4524 44.06 L 66.4524 44.3859 L 66.6154 44.3859 L 66.6154 44.06 L 71.708 44.0274 L 69.7931 43.9704 L 69.7931 43.6933 L 65.108 43.6933 L 65.0835 43.0252 L 65.075 39.442 L 65.002 42.398 L 62.6228 42.3489 L 60.1783 42.3489 L 60.1783 41.4526 L 60.1783 40.5563 L 59.9013 40.5563 L 59.6161 40.5563 L 59.5917 40.8252 L 59.5672 41.0859 L 58.6465 41.1104 L 57.7176 41.1348 L 57.6361 40.8007 L 57.4894 40.8007 L 57.4731 40.5155 L 57.3998 40.8007 L 53.6598 40.8007 L 53.6598 42.1044 L 54.5561 42.1044 L 54.5561 44.0355 L 51.2887 44.0437 L 51.3376 40.8007 L 47.5487 40.8007 L 47.5487 42.1044 L 48.445 42.1044 L 48.445 43.9785 L 45.1857 43.9785 L 45.1857 40.8007 L 44.2976 40.8007 L 44.1346 40.5155 L 44.1265 42.9192 L 37.7139 42.9029 L 31.2931 42.8785 L 31.2117 41.6563 L 30.242 41.7378 L 31.0894 42.4466 L 31.122 46.0563 L 31.1791 44.5489 L 33.4524 44.5489 L 33.4524 47.4822 L 37.8931 47.5229 L 37.942 49.1933 L 38.4228 49.1933 L 38.4228 50.5785 L 41.3968 50.5785 L 44.3709 50.5785 L 44.3954 50.7252 Z M 54.8006 49.6822 L 54.8006 49.3563 L 55.5339 49.3563 L 55.5339 49.1933 L 54.8006 49.1933 L 54.8006 48.9489 L 54.5561 48.9489 L 54.5561 49.1933 L 53.8228 49.1933 C 53.8228 49.4866 53.8472 49.6007 53.9287 49.6822 Z M 57.8968 49.6822 L 57.8968 49.3563 L 58.5487 49.3563 L 58.5487 49.1933 L 57.8968 49.1933 L 57.8968 48.9489 L 57.6524 48.9489 L 57.6524 49.1933 L 57.0006 49.1933 L 57.0006 49.3563 L 57.6524 49.3563 L 57.6524 49.6822 Z M 51.7857 47.3192 L 51.7857 46.9933 L 52.5191 46.9933 L 52.5191 46.7489 L 51.7857 46.7489 L 51.7857 46.5044 L 51.5413 46.5044 L 51.5413 46.7489 L 50.9709 46.7489 L 50.9709 46.9933 L 51.5413 46.9933 L 51.5413 47.3192 Z M 54.8006 47.3192 L 54.8006 46.9118 L 55.5339 46.9118 L 55.5339 46.7489 L 54.8006 46.7489 L 54.8006 46.5044 L 54.5561 46.5044 L 54.5561 46.7489 L 53.9857 46.7489 L 53.9857 46.9118 L 54.5561 46.9118 L 54.5561 47.3192 Z M 57.8968 47.3192 L 57.8968 46.9118 L 58.5487 46.9118 L 58.5487 46.7489 L 57.8968 46.7489 L 57.8968 46.5044 L 57.6524 46.5044 L 57.6524 46.7489 L 57.0006 46.7489 L 57.0006 46.9118 L 57.6524 46.9118 L 57.6524 47.3192 Z M 57.5791 38.3563 L 57.6524 38.3563 L 57.6524 37.2563 L 57.6524 36.1644 L 56.7154 36.1155 L 56.6665 33.7118 L 58.8339 33.7118 L 56.9028 32.9133 L 56.6828 31.4304 L 56.3568 31.4304 L 56.2917 31.0637 L 56.2672 31.9192 L 51.2154 31.9192 L 51.2154 33.3859 L 56.1043 33.3859 L 56.1043 34.0378 L 50.2457 34.0378 L 50.3435 31.9274 L 49.4635 31.8785 L 49.4146 31.2674 L 46.0087 31.2674 L 45.9598 32.0415 L 44.6154 32.0904 L 44.6154 33.5489 L 42.6598 33.5489 L 42.6354 31.7155 L 42.5702 32.2452 L 40.2154 32.2452 L 40.2154 36.8081 L 44.1265 36.8081 L 44.1346 38.7229 L 44.2813 38.3563 L 45.2672 38.3563 L 45.2672 36.8163 L 44.5746 36.7674 L 44.5746 35.2192 L 47.1413 35.1704 L 47.1413 38.3563 L 47.8665 38.3563 L 47.9154 36.2785 L 48.9257 36.2296 L 48.9746 35.3007 L 50.7265 35.2518 L 50.7265 38.3563 L 50.9709 38.3563 L 50.9709 36.0748 L 53.9043 36.0748 L 53.9043 38.3563 L 53.9857 38.3563 L 54.0672 38.3563 L 54.0672 35.26 L 55.3709 35.26 L 55.3709 36.2378 L 57.0006 36.2378 L 57.0006 38.3563 L 57.408 38.3563 L 57.4324 38.8044 L 57.4976 38.3563 Z M 60.1783 37.7859 L 60.1783 35.9118 L 64.8228 35.9118 L 64.8228 37.8674 L 65.0591 37.8674 L 65.108 36.9304 L 69.7524 36.9304 L 69.8339 36.1155 L 72.148 36.0666 L 72.1968 35.2192 L 73.0931 35.1215 L 67.8376 35.097 L 67.8294 34.8933 L 67.6828 35.26 L 64.008 35.26 L 63.9835 31.1452 L 63.3643 32.6444 L 60.8709 33.7037 L 61.1643 33.7118 L 61.1154 35.6266 L 59.6894 35.6755 L 59.6894 37.8674 L 63.3154 37.8266 Z',
	],
	[MapType.THE_SKELD_APRIL]: undefined,
	[MapType.UNKNOWN]: undefined,
};

export const doorMaps: { [key in MapType]: { [key in number]: string | undefined } | undefined } = {
	[MapType.MIRA_HQ]: {
		0: 'M 45.008 36.849 H 47.187',
		1: 'M 45.008 30.307 H 47.187',
	},
	[MapType.POLUS]: {
		0: 'M 51.35 48.227 L 51.369 50.09', // right elecrtrical door
		1: 'M 48.426 50.094 V 50.515 H 46.964', // electical vence door
		2: 'M 44.594 53.511 H 46.486', // electical door to o
		3: 'M 44.566 57.666 H 46.477', // o2 door to electical
		4: 'M 45.27 61.755 H 46.701', // o2 to outside
		5: 'M 52.41 60.07 H 54.127', // Weapons door
		6: 'M 50.189 59.272 H 51.771', // communications door
		7: 'M 68.822 55.941 V 57.483', // office vidals door
		8: 'M 57.445 60.539 V 62.21', // office left door
		9: 'M 66.087 48.323 H 67.422', // door to drill
		10: 'M 64.894 48.653 V 50.117', // door outside to med
		11: 'M 57.354 49.784 V 51.414', // storage door
		12: 'M 65.552 63.143 V 64.9', // decom door office->spec
		13: 'M 63.324 63.159 H 65.536', // decom door spec->office
		14: 'M 78.198 50.885 V 48.433', // decom door med->spec
		15: 'M 78.198 50.885 H 79.987', // decom door spec->med
	},
	[MapType.THE_SKELD]: {
		0: 'M 44.882 37.745 V 39.521', // cafetaria-> weapons
		3: 'M 38.561 44.6841 H 40.068', // cafetaria -> Admin hallway
		8: 'M 33.899 37.680 V 39.613', // cafetaria -> medbay hallway
		10: 'M 30.301 39.7466 H 31.806', //medbay
		2: 'M 25.43 39.589 V 37.655', // upperengine <- medbay hallway
		5: 'M 22.615 42.000 H 24.108', // upperengine <- security hallway
		6: 'M 25.154 44.154 V 45.953', // security
		4: 'M 22.652 48.658 H 24.169', // lowerengine <- security hallway
		11: 'M 25.4117 52.012 V 50.274', // lowerengine <- Elecrtical hallway //25.4117 51.3337
		9: 'M 29.946 53.126 H 31.366', // elecrtrical
		1: 'M 25.418 52.012 V 50.274', //storage -> Electrical
		7: 'M 34.989 54.864 V 53.052', // storage -> Admin
		12: 'M 40.961 52.624 V 50.849', // storage -> shields
	},
	[MapType.AIRSHIP]: undefined,
	[MapType.THE_SKELD_APRIL]: undefined,
	[MapType.UNKNOWN]: undefined,
};

export function poseCollide(p1: Vector2, p2: Vector2, map: MapType, closedDoors: number[]): boolean {
	//  console.log(p1.x + 40, 40 - p1.y);
	//console.log(colliderMaps[MapType.MIRA_HQ]?.join(' '));
	const colliderMap = colliderMaps[map];
	if (!colliderMap || map === MapType.UNKNOWN) {
		return false;
	}
	for (const collider of colliderMap) {
		const intersections = intersect(collider, `M ${p1.x + 40} ${40 - p1.y} L ${p2.x + 40} ${40 - p2.y}`);
		if (intersections.length > 0) {
			//	console.log(intersections)
			return true;
		}
	}
	// console.log('Closed doors: ', closedDoors);
	// if (map === MapType.POLUS) { // temp only polus
	const doorMap = doorMaps[map];
	if (!doorMap) {
		return false;
	}
	for (const doorId of Object.values(closedDoors)) {
		const doorPath = doorMap[doorId];
		if (doorPath) {
			const intersections = intersect(doorPath, `M ${p1.x + 40} ${40 - p1.y} L ${p2.x + 40} ${40 - p2.y}`);
			if (intersections.length > 0) {
				return true;
			}
		}
	}
	return false;
}
