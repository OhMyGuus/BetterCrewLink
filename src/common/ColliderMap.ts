import { MapType, Vector2 } from './AmongusMap';
import intersect from 'path-intersection';

export const colliderMaps: { [key in MapType]: string[] | undefined } = {
	[MapType.THE_SKELD]: [
		'M 33.65 35.32 V 37.57 H 25.3 V 36.35 H 21.71 L 20.41 37.46 V 41.75 H 22.2 V 44.05 H 20.97 V 42.62 H 19.4 V 40.96 H 18.27 L 16.43 42.12 V 48.04 L 18.25 49.14 H 19.4 V 47.49 H 20.97 V 46.18 H 22.2 V 48.66 H 20.36 V 53.04 L 21.69 54.06 H 25.3 V 52.41 H 27.05 V 55.28 H 34.79 L 36.95 57.58 H 41.08 V 52.97 H 44.18 V 53.54 H 41.39 V 56.52 L 42.47 57.54 H 45.52 L 46.63 56.52 V 53.54 H 46.02 V 52.97 H 46.94 V 55.02 H 49.48 L 51.75 52.82 V 49.58 H 50.39 V 47.14 H 52.75 V 45.44 H 55.46 V 46.79 H 57.45 L 59.18 45.39 V 43.45 L 57.47 41.96 H 55.46 V 43.31 H 52.75 V 41.96 H 50.39 V 41.01 H 51.75 V 37.76 L 49.51 35.61 H 46.94 V 37.57 H 45.06 V 36.2 L 42.04 33.26 H 35.75 Z',
		'M 48.07 41.01 H 48.6 V 41.96 H 47.86 V 41.57 H 45.54 V 41.77 L 43.97 43.61 V 45.23 H 47.86 V 44.09 H 50.96 V 45.01 H 48.6 V 49.58 H 48.03 L 46.95 50.84 H 41.08 V 48.23 H 40.21 V 47.88 H 41.87 V 50.45 H 46.13 L 47.07 49.51 V 45.75 H 40.21 V 44.62 H 42.46 L 45.06 42.03 V 39.74 H 46.94 V 39.84 Z',
		'M 29.98 39.79 V 40.22 H 28.75 V 44.85 L 29.61 45.97 H 34.96 V 44.53 L 33.21 42.82 V 40.22 H 31.77 V 39.79 H 33.65 V 42.07 L 36.21 44.62 H 38.37 V 48.23 H 36.38 L 34.79 49.8 V 53.1 H 31.33 V 52.54 H 32.61 L 33.69 51.52 V 49.45 L 34.96 48.25 V 46.84 H 29.63 V 53.1 H 28.8 V 50.27 H 25.3 V 48.66 H 23.99 V 46.18 H 25.39 V 47.45 H 28.23 V 42.73 L 27.47 41.96 H 26.37 L 25.39 42.92 V 44.05 H 23.99 V 41.75 H 25.3 V 39.79 Z'
	],
	[MapType.MIRA_HQ]: [
		'M 39.79 31.723 H 28.373 V 40.223 H 33.731 V 42.698 H 43.717 V 42.213 H 53.633 V 40.463 V 42.213 H 57.119 V 37.556 H 53.594 V 36.64 V 38.64 V 37.556 H 57.119 V 33.806 H 53.584 V 34.733 V 33.757 L 57.805 29.561 L 62 33.802 H 61.098 V 38.437 H 60.118 H 61.118 V 33.802 H 57.868 V 40.74 H 60.783 H 57.868 V 43.907 H 60.366 V 42.74 H 69.283 V 40.574 H 66.783 H 69.283 V 33.74 H 64.449 V 31.49 H 62.949 L 58.989 27.53 V 21.66 V 23.235 H 62.822 V 18.142 H 58.405 H 59.072 V 19.975 V 18.142 H 62.905 V 14.058 H 52.822 V 18.219 H 57.17 H 56.586 V 21.552 V 18.213 H 52.83 H 52.747 V 23.297 H 56.664 V 27.63 L 52.614 31.513 H 51.197 V 34.68 V 33.753 H 48.27 V 37.086 H 47.27 V 26.678 V 30.345 H 52.227 V 24.54 H 44.879 V 28.54 V 23.209 H 39.977 V 30.499 H 44.942 V 37.083 H 43.713 V 39.916 H 51.188 V 36.621 V 39.955 H 43.713 V 40.332 H 37.386 V 40.082 H 39.803 Z M 63.203 40.64 H 64.369',
	],
	[MapType.POLUS]: [
		'M 51.257 48.531 V 48.131 H 41.423 V 50.498 H 41.857 H 41.423 V 53.131 H 44.751 H 44.365 V 50.459 H 43.184 H 44.365 V 53.131 H 44.532 V 58.095 H 44.798 H 43.798 H 44.165 V 55.161 L 43.189 54.352 H 40.123 V 58.052 H 42.423 V 60.652 H 42.123 H 42.423 V 58.068 H 40.123 V 60.662 H 40.777 H 40.123 V 62.495 H 42.744 H 40.123 V 65.095 H 44.477 V 62.462 H 44.111 H 44.477 V 61.962 H 45.244',
		'M 46.577 61.962 H 47.011 V 58.095 H 46.244 V 53.131 H 46.111 H 46.577 V 50.544 H 46.811',
		'M 51.257 50.205 V 50.544 H 48.14',
		'M 54.09 46.221 V 38.754 H 59.289 V 46.216',
		'M 64.738 48.655 V 48.445 H 65.938',
		'M 64.738 50.384 V 50.684 H 72.552 V 48.541 H 72.085 H 72.552 V 48.141 V 48.541 H 75.619 H 75.419 V 49.334 V 48.541 H 72.552 V 50.967 H 75.463 V 50.767 V 50.967 H 77.996 V 50.401 V 50.967 H 78.363 H 78.196 V 58.034 L 78.343 58.248 L 78.176 58.014 H 74.976 L 73.677 59.247 V 59.68 H 66.722 V 63.458 H 65.475 V 63.639 V 63.121 H 64.573 H 65.475 V 59.872 H 61.775 V 61.439 V 59.872 H 65.475 V 58.072 H 65.109 H 68.703 V 57.763',
		'M 70.711 48.578 H 67.311 V 48.445 H 68.611 V 46.178 H 72.544 V 46.545 V 44.845 H 75.678 V 45.245 V 45.011 H 77.044 V 46.011 H 81.144 V 48.578 H 79.944 H 76.944 H 77.996 V 48.711 V 48.578 H 81.144 V 50.967 H 79.756 H 79.956 V 59.364 H 79.389 V 61.364 L 78.129 62.557 H 75.003 L 73.701 61.223 V 61.023 V 61.347 H 68.844 V 65.376 H 65.474 V 65.807 H 62.693 V 63.954 H 61.626 H 62.693 V 63.121 H 63.226 H 62.693 V 65.807 H 60.646 V 63.94 V 65.807 H 59.546 V 62.907 H 57.403 V 62.541 V 62.907 H 59.713 V 59.874 H 60.313 H 59.279',
		'M 68.703 56.136 V 55.503 H 63.436 V 58.07 H 63.736 H 62.936 H 63.47 V 55.536 H 55.803 V 58.103 H 56.503 H 56.57 H 55.803 V 59.903 H 57.937 H 57.403 V 60.87',
		'M 57.936 58.097 H 61.602',
		'M 57.193 51.668 H 58.493 V 53.006 H 62.73 V 49.972 H 57.193',
		'M 51.646 58.923 V 57.79 H 53.313 V 54.857 H 50.113 V 58.923',
		'M 52.257 60.719 V 61.801 H 49.591 V 65.268 H 52.991 L 54.2 64.025 V 61.758 H 53.791 V 60.719',
	],
	[MapType.AIRSHIP]: [
		'M 25.47 56.91 V 55.36 H 25.14 V 53.16 L 25.12 53.34 H 22.78 V 50.72 H 31.01 V 51.12 H 31.25 V 48.01 V 50.23 H 24.93 L 24.16 49.44 V 47.47 L 25.09 46.97 H 27.87 L 26.45 48.52 H 26.81 L 28.56 46.76 V 45.95 L 26.7 43.61 L 26.24 43.61 L 27.83 45.66 H 25.32 L 24.57 44.56 V 42.67 L 25.47 41.92 H 28.3 H 23.84 V 41.75 H 23.59 V 44.04 H 14.65 V 38.11 H 23.59 V 39.96 H 23.84 V 39.63 H 25.83 L 25.22 39.54 L 24.73 38.7 V 36.7 H 26.53 V 36.95 H 27.34 V 36.13 H 28.7 V 39.59 H 27.57 H 31.17 V 39.96 H 31.33 V 37.11 H 37.45 V 32.55 H 38.43 H 36.3 V 31.97 V 35.81 H 25.81 V 24.49 H 36.3 V 30.42 V 30.22 H 42.66 V 30.08 H 43.88 V 25.78 H 42.9 V 22.44 H 47.06 V 22.85 H 47.63 V 22.44 H 54.47 V 23.66 H 54.64 V 23.09 H 56.59 V 23.5 H 57.93 V 25.75 H 54.64 V 25.46 H 54.47 V 26.35 H 47.63 V 25.78 H 47.06 V 26.35 H 45.96 V 25.78 H 45.22 V 30.08 H 45.92 V 30.88 H 49.45 V 29.78 H 56.42 V 26.51 H 63.84 V 29.77 H 64.01 V 29.12 H 67.67 V 33.52 H 67.84 V 33.2 H 68.57 V 31.49 H 69.95 V 33.24 H 70.04 V 31.49 H 71.42 V 33.2 H 71.59 V 31.49 H 72.97 V 33.2 H 73.13 V 31.49 H 74.44 V 33.2 H 75.09 V 35.4 H 74.52 V 35.56 H 75.74 V 36.46 H 79.73 V 44.28 H 73.35 L 73.46 44.37 V 46.8 H 70.93 V 47.86 H 67.27 V 46.8 H 66.7 V 46.4 H 66.45 V 50.03 L 65.83 50.63 H 62.25 L 61.4 49.77 V 49.17 H 61.24 V 49.41 H 59.93 V 49.74 H 60.59 V 51.86 H 57.98 V 51.69 H 57.57 V 51.86 H 54.88 V 51.53 H 52.93 L 52.6 51.17 V 49.41 H 51.87 V 49.17 H 51.54 V 49.41 H 50.81 V 50.96 H 49.42 V 53.16 H 47.79 V 54.22 H 50.88 V 56.91 H 45.05 V 53.57 H 46.4 V 53.16 H 44.49 V 52.83 V 53.16 H 38.5 V 52.83 H 38.34 V 53.24 H 31.25 V 52.74 H 31.05 V 53.32 H 27.3 L 27.26 53.16 V 55.36 H 26.45 V 56.91 Z M 44.49 49.05 H 49.34 V 47.06 H 48.97 V 44.84 H 51.48 L 51.72 45.04 L 51.86 44.81 H 54.52 V 45.01 H 54.8 V 44.85 H 57.65 V 45.01 H 57.9 V 44.85 H 58.55 V 44.6 H 56.92 V 42.89 H 60.59 V 44.6 H 59.93 V 44.85 H 60.68 V 47.01 H 59.93 L 59.93 47.21 H 61.23 L 61.29 47.66 V 45.29 L 62.45 44.36 H 66.45 V 44.69 H 66.62 V 44.36 H 71.71 H 69.79 V 43.99 H 65.08 V 39.74 V 42.65 H 60.18 V 40.86 H 59.62 V 41.39 H 57.72 V 41.1 H 57.49 V 40.82 L 57.4 41.1 H 53.66 V 42.4 H 54.56 V 44.34 H 51.29 V 41.1 H 47.55 V 42.4 H 48.45 V 44.28 H 45.19 V 41.1 H 44.3 L 44.13 40.82 V 43.22 H 31.33 V 41.92 H 29.83 L 31.09 42.75 V 46.36 V 44.82 H 33.45 V 47.78 H 37.89 V 49.49 H 38.42 V 50.88 H 44.49 V 51.23 Z M 54.8 49.98 V 49.66 H 55.53 V 49.49 H 54.8 V 49.25 H 54.56 V 49.49 H 53.82 V 49.98 Z M 57.9 49.98 V 49.66 H 58.55 V 49.49 H 57.9 V 49.25 H 57.65 V 49.49 H 57 V 49.66 H 57.65 V 49.98 Z M 51.79 47.62 V 47.29 H 52.52 V 47.05 H 51.79 V 46.8 H 51.54 V 47.05 H 50.97 V 47.29 H 51.54 V 47.62 Z M 54.8 47.62 V 47.21 H 55.53 V 47.05 H 54.8 V 46.8 H 54.56 V 47.05 H 53.99 V 47.21 H 54.56 V 47.62 Z M 57.9 47.62 V 47.21 H 58.55 V 47.05 H 57.9 V 46.8 H 57.65 V 47.05 H 57 V 47.21 H 57.65 V 47.62 Z M 57.5 38.66 H 57.65 V 36.46 H 56.67 V 34.01 H 59.08 H 56.67 V 31.73 H 56.42 V 31.36 V 32.22 H 51.22 V 32.22 H 56.42 V 34.56 H 50.25 V 32.22 H 49.46 V 31.7 H 45.92 V 32.34 H 44.62 V 33.85 H 42.66 V 32.01 V 32.55 H 39.75 H 40.22 V 37.11 H 44.13 V 39.02 V 38.66 H 45.27 V 37.12 H 44.57 V 35.52 H 47.14 V 38.66 H 47.87 V 36.58 H 48.93 V 35.6 H 50.73 V 38.66 H 50.97 V 36.37 H 53.9 V 38.66 H 54.07 V 35.56 H 55.37 V 36.54 H 57 V 38.66 H 57.41 V 39.1 H 57.5 Z M 60.18 38.09 V 36.21 H 64.82 V 38.17 H 65.06 V 37.23 H 69.75 V 36.42 H 72.15 V 35.42 H 73.09 H 67.84 V 35.19 V 35.56 H 64.01 V 31.49 V 34 H 60.58 H 61.16 V 35.93 H 59.69 V 38.17 H 63.32 Z',
	],
	[MapType.SUBMERGED]: [
		// not tested might require some small offset adjustments
		'M 40 4.7 C 40.5 4.7 41 4.9 41.2 5.5 V 7.1 H 42.8 V 8.3 L 44.5 10 V 11 H 41.3 V 13.6 L 43.3 15.6 L 45.4 13.5 V 12.8 H 44.6 V 9.4 L 42.9 7.7 V 7.1 H 48.9 V 11.4 L 47.5 12.8 H 46.7 V 14.4 L 44.3 16.8 V 17.4 H 46.9 V 18.7 H 49.6 V 11.3 H 51.1 V 12.1 H 51.3 V 11.4 H 52.9 V 14.2 H 51.3 V 13.5 H 51.1 V 15.3 H 53.1 V 13.5 H 55.7 V 17.4 H 51.1 V 26.9 H 48.9 V 29.4 H 49.4 V 30.5 H 49.6 V 29.8 H 51.2 V 32.7 H 49.6 V 31.9 H 49.3 V 32.7 H 48.4 V 33.7 H 49.1 V 35.5 H 46.4 V 33.7 H 47.1 V 32.8 H 46.3 V 31.6 L 45.4 30 H 44.9 V 30.8 H 45.3 L 46.2 32.2 V 32.8 H 43.5 V 28 H 44.2 V 22.9 H 42.1 V 24.4 H 42.4 V 26.1 H 40.8 V 26.8 H 42.4 V 30.5 C 42.4 31.1 41.6 31.4 41 31.4 C 40.5 31.4 39.7 31 39.7 30.4 V 29 H 41 V 28.3 H 35.1 V 26.9 H 34.9 V 27.7 H 31.8 V 22.7 H 32.7 V 21.4 H 31.3 V 28.6 H 33.9 V 31.4 H 28.5 V 27.1 H 29.8 V 21.4 H 29.1 V 25.5 H 24.3 V 18.7 H 29.1 V 20 H 29.9 V 15.6 H 27 V 8.3 H 28.3 L 30.8 9.7 V 10.5 H 36 V 12.3 H 39.9 V 11 H 39.1 L 37.3 9.2 V 7.1 H 38.8 V 5.5 C 39 4.9 39.6 4.7 40 4.7 Z M 51.1 59.4 V 60.1 H 51.3 V 59.5 H 52.9 V 62.4 H 51.3 V 61.6 H 51.1 V 64 H 54.4 V 66.3 L 52.9 67.4 V 69.7 H 50.7 V 70.3 H 51.4 V 70.5 H 51.5 V 70.3 H 52.8 L 54.3 71.5 V 73 H 51.5 V 72 H 51.4 V 73 H 48.4 V 70.3 H 49.3 V 69.7 H 48.4 V 68.3 H 46.9 V 71 H 43.5 V 72.1 L 46.8 73 V 76.9 H 45.9 V 77.7 H 49.4 V 78.6 H 49.5 V 77.9 H 51.2 V 80.8 H 49.5 V 80 H 49.4 V 80.9 H 48.4 V 81.8 H 49.2 V 83.5 H 46.3 V 81.8 H 47.1 V 80.9 H 43.5 V 80.1 H 37.8 V 80.9 H 36 V 80 H 35.8 V 80.9 H 32.1 L 31.7 80.6 V 81.3 L 32 81.6 H 34.2 V 83.8 H 28.1 V 77.8 H 30.3 V 79.9 L 30.5 80.1 V 79.4 L 30.3 79.2 V 75.2 H 31.1 V 74.3 H 30.3 V 72.4 H 31.1 V 69.6 H 29.6 V 75.1 H 23.8 V 73 H 28.1 V 72.4 H 23.8 V 69.2 H 28.1 V 68.5 H 23.8 V 66.5 H 29.6 V 68.1 H 32.8 V 67.2 H 32 V 65.4 H 34.8 V 67.2 H 34.1 V 68.1 H 35.7 V 67.2 H 35 V 65.4 H 37.8 V 67.2 H 37 V 68.1 H 39.7 V 65.5 H 41.1 V 59.4 Z M 36 13.7 V 15.6 H 31.2 V 20 H 32.7 V 19 H 32 V 17.4 H 34.8 V 19 H 34.1 V 20 H 35.7 V 19 H 35 V 17.4 H 37.8 V 19 H 37 V 20 H 39.7 V 17.4 H 42.2 V 16.8 L 39.9 14.4 V 13.7 Z M 34.1 21.4 V 22.7 H 35 V 25.5 H 35.1 V 24.9 L 36.7 24.5 H 40.7 V 22.9 H 39.7 V 21.4 Z M 42.5 60.8 V 65.5 H 46.9 V 66.8 H 48.4 V 63.2 H 49.8 V 62.4 H 48.4 V 65.4 H 47 V 63.9 L 45.7 61.7 V 60.8 Z M 32.5 69.6 V 72.4 H 33.3 V 74.3 H 32.5 V 75.2 H 33.3 V 76.4 L 34.8 77.8 H 35.8 V 78.5 H 36 V 77.8 H 37.8 V 78.6 H 43.5 V 77.7 H 44.5 V 76.9 H 38.8 V 73 L 42.1 72.1 V 71 H 39.7 V 69.6 H 36.1 V 72.2 H 37.5 V 75.6 H 35.5 L 34.2 74.3 V 70.7 H 34.7 V 69.6 Z M 46.9 22.9 H 45.5 V 28 H 46.1 L 47 29.4 H 47.5 V 25.4 H 49.7 V 20.1 H 46.9 Z',
	],
	[MapType.FUNGLE]: [
		'M 27.12 33.21 V 31.23 H 26.92 V 33.11 Z',
		'M 20.2 34.47 V 36 H 25.72 L 27.1 35.54 V 34.6 H 26.88 V 35.36 L 25.93 35.72 H 20.41 V 34.58 Z',
		'M 20.13 33.11 H 20.34 V 31.89 H 20.05 Z',
		'M 26.18 40.01 V 39.3 L 25.13 38.25 H 22.43 L 20.58 37.52 L 18.87 38.71 H 22.17 V 39.25 H 22.29 V 38.83 H 23.21 V 39.35 H 23.43 V 38.83 H 24.3 V 39.37 H 24.47 V 38.83 H 25.12 L 26.05 39.51 V 40.04 Z',
		'M 19.19 44.18 L 22.08 42.57 V 41.1 H 24.35 V 41.38 H 22.41 V 42.84 H 25.33 L 25.94 42.22 V 41.49 H 26.11 V 42.63 L 25.41 43.43 H 21.97 V 43.06 L 19.72 44.16 Z',
		'M 21.32 46.62 V 45.78 H 23.61 V 45.45 H 21.12 V 46.6 Z',
		'M 25.3 45.49 H 27.11 L 28.03 46.66 V 50.72 H 20.98 V 48.21 H 21.23 V 50.39 H 27.52 V 47.06 L 26.73 45.94 H 25.67 Z',
		'M 38.56 55.21 L 40.78 52.99 L 43.31 55.22 Z',
		'M 36.88 52.44 V 53.06 H 32.13 L 30.97 51.08 V 44.45 H 33.69 V 40.42 H 34.33 V 44.31 H 36.67 L 38.14 47.24 V 51.3 H 37.88 V 47.89 H 36.66 V 45.39 H 32.07 V 52.48 Z',
		'M 31.47 32.87 H 31.78 L 29.59 29.22 L 32.21 28.12 L 31.47 27.28 L 28.33 28.56 Z',
		'M 35.74 30.5 L 34.28 30.51 L 33.33 29.73 L 34.14 28.4 Z',
		'M 34.83 47.72 V 47.42 H 33.34 V 51.42 H 33.68 V 47.67 Z',
		'M 52.41 55.46 H 54.32 V 54.55 H 52.32 Z',
		'M 44.61 53.28 H 53.36 V 52.96 H 44.61 Z',
		'M 47 50.83 V 51.12 H 42.2 V 49.57 L 40.72 49.2 L 40.27 47.39 L 42.14 46.88 L 45.41 48.08 V 50.57 Z',
		'M 35.09 51.42 H 36.08 V 51.1 H 35.08 Z',
		'M 47.07 49.38 V 49.03 H 49.44 V 47.75 H 49.82 L 49.54 48.98 H 51.44 V 49.47 H 51.23 V 49.15 Z',
		'M 51.28 51.46 V 50.57 H 51.5 V 51.46 Z',
		'M 56.07 50.45 V 48.42 H 55.58 L 56.05 47.45 L 53.89 47.81 V 45.08 H 53.16 V 47.55 L 55.81 48.85 V 50.25 Z',
		'M 58.08 50.99 V 51.55 H 57.43 V 51.05 Z',
		'M 59.28 47.8 V 49.9 H 65.26 V 43.85 H 59.39 V 46.03 H 59.63 V 45.51 H 64.74 V 49.47 H 59.84 V 47.78 Z',
		'M 56.17 34.1 H 53.47 V 33.26 H 56.17 Z',
		'M 45.8 32.45 H 50.38 V 32.87 L 51.84 33.18 V 34.22 H 51.11 V 36.09 H 50.81 V 34.76 H 45.38 V 38.07 H 45.17 V 34.53 Z',
		'M 47.47 36.91 L 50.97 38.02 V 40.52 H 47.74 V 40.2 H 50.24 L 50.67 40.36 V 38.18 L 47.47 37.17 Z',
		'M 36.33 39.35 H 38.71 L 39.77 40.51 H 40.01 V 40.08 H 43.71 V 42.68 H 39.66 V 42.43 L 38.05 43.81 L 38.92 44.01 H 44.04 V 39.63 H 39.48 L 38.4 38.92 H 36.05 Z',
		'M 57.39 55.55 V 53.78 H 56.72 V 53.3 L 57.72 53.49 L 60.76 52.53 Z',
		'M 52.34 40.53 H 53.63 V 40.04 H 52.35 Z',
		'M 54.18 38.03 H 56.97 V 36.81 H 54.28 Z',
		'M 65.15 27.82 L 65.59 27.34 L 65.81 27.67 L 65.32 28.04 Z',
		'M 63.05 28.06 H 59.68 L 58.52 27.31 H 58.85 L 60.02 27.43 H 60.91 V 26.97 H 61.68 V 27.72 H 63.03 Z',
		'M 58.56 25.95 V 25.22 H 58.43 V 25.94 Z',
		'M 41.57 32.55 H 38.45 V 34.64 H 38.23 V 31.61 H 41.53 Z',
		'M 40.42 34.3 H 43.96 V 37.64 H 38.72 L 38.22 36.5 H 43.02 V 34.73 H 40.52 Z'
	],
	[MapType.THE_SKELD_APRIL]: undefined,
	[MapType.UNKNOWN]: undefined,
};

export const doorMaps: { [key in MapType]: { [key in number]: string | undefined } | undefined } = {
	[MapType.MIRA_HQ]: {
		0: 'M 44.942 37.086 H 47.27',
		1: 'M 44.942 30.499 H 47.27',
	},
	[MapType.POLUS]: {
		0: 'M 51.257 48.531 V 50.205', // right elecrtrical door
		1: 'M 48.14 50.544 H 46.811 ', // electical vence door
		2: 'M 44.751 53.131 H 46.111', // electical door to o
		3: 'M 44.798 58.095 H 46.244 ', // o2 door to electical
		4: 'M 45.244 61.962 H 46.577', // o2 to outside
		5: 'M 52.257 60.719 H 53.791', // Weapons door
		6: 'M 50.113 58.923 H 51.646', // communications door
		7: 'M 68.703 56.136 V 57.763', // office vidals door
		8: 'M 57.403 60.87 V 62.541', // office left door
		9: 'M 65.938 48.445 H 67.311', // door to drill
		10: 'M 64.738 48.655 V 50.384', // door outside to med
		11: 'M 57.193 49.972 V 51.668', // storage door
		12: 'M 65.475 63.639 V 65.376', // decom door office->spec
		13: 'M 63.226 63.121 H 64.575', // decom door spec->office
		14: 'M 77.996 50.401 V 48.711', // decom door med->spec
		15: 'M 78.363 50.967 H 79.756', // decom door spec->med
	},
	[MapType.THE_SKELD]: {
		0: 'M 45.059 37.568 V 39.744 ', // cafetaria-> weapons
		3: 'M 38.371 44.717 H 40.207', // cafetaria -> Admin hallway
		8: 'M 33.649 37.568 V 39.787', // cafetaria -> medbay hallway
		10: 'M 29.977 39.787 H 31.77', //medbay
		2: 'M 25.3 39.787 V 37.568 ', // upperengine <- medbay hallway
		5: 'M 22.196 41.945 H 23.989', // upperengine <- security hallway
		6: 'M 25.154 44.051 V 46.183', // security
		4: 'M 22.196 48.663 H 24.169', // lowerengine <- security hallway
		11: 'M 25.412 52.405 V 50.274', // lowerengine <- Elecrtical hallway //25.4117 51.3337
		9: 'M 29.628 53.101 H 31.333', // elecrtrical
		1: 'M 34.786 55.353 V 53.101', //storage -> Electrical
		7: 'M 38.371 48.231 H 40.207', // storage -> Admin
		12: 'M 41.081 52.971 V 50.839', // storage -> shields
	},
	[MapType.AIRSHIP]: {
		0: 'M 23.8376 41.7526 V 39.96', // Comms Left
		1: 'M 31.1709 39.96 V 41.9155', //Comms Right
		2: 'M 27.5694 39.6096 H 25.8339', //Comms Top
		3: 'M 28.295 41.9155 H 29.833', //Comms Bottom
		4: 'M 38.428 32.5452 H 39.753', //Brig Bottom
		5: 'M 36.3043 31.9748 V 30.424', //Brig Left
		6: 'M 42.6598 30.224 V 32.012 ', //Brig Right
		7: 'M 31.122 46.3563 V 48.0104', //Armory Right
		8: 'M 31.2524 51.1229 V 52.7363', //Kitchen Left
		9: 'M 38.4228 50.8785 V 52.8341', //Kitchen Right
		10: 'M 44.1346 39.0229 V 40.8155', //Hallway left
		11: 'M 57.426 39.117 V 40.8155', //Hallway right
		12: 'M 56.418 31.3637 V 29.788', //Records Left
		13: 'M 64.008 29.7748 V 38.1674', //Records Right
		14: 'M 59.078 34.0118 H 60.578', //Records Bottom
		15: 'M 68.5709 33.197 H 70.0376', //Bathroom door 1
		16: 'M 70.005 33.197 H 71.4228', //Bathroom door 2
		17: 'M 71.5857 33.197 H 72.9709', //Bathroom door  3
		18: 'M 73.1339 33.197 H 74.4376', // Bathroom door 4
		19: 'M 61.2946 47.66 V 49.1674', //Medical Left
		20: 'M 71.708 44.3274 H 73.3457', //Medical Top
	},
	[MapType.SUBMERGED]: undefined,
	[MapType.FUNGLE]: {
		0: 'M 62.95 27.87 H 65.34', // Horizontal Comms
		1: 'M 58.53 27.51 V 25.63', // Vertical Comms
		2: 'M 23.51 45.57 H 25.44', // Kitchen
		3: 'M 34.65 47.6 H 36.84', // Laboratory
		4: 'M 50.9 38.43 V 35.82', // Lookout
		5: 'M 51.38 33.62 H 53.88', // MiningPit
		6: 'M 59.52 47.91 V 45.62', // Reactor
		7: 'M 38.31 36.76 V 34.37', // Storage
	},
	[MapType.THE_SKELD_APRIL]: undefined,
	[MapType.UNKNOWN]: undefined,
};

export function poseCollide(p1: Vector2, p2: Vector2, map: MapType, closedDoors: number[]): boolean {
	if (map === MapType.THE_SKELD_APRIL) {
		p1.x = p1.x * -1;
		p2.x = p2.x * -1;
		map = MapType.THE_SKELD;
	}
	const colliderMap = colliderMaps[map];
	if (!colliderMap || map === MapType.UNKNOWN) {
		return false;
	}
	for (const collider of colliderMap) {
		const intersections = intersect(collider, `M ${p1.x + 40} ${40 - p1.y} L ${p2.x + 40} ${40 - p2.y}`);
		if (intersections.length > 0) {
			return true;
		}
	}
	const doorMap = doorMaps[map];
	if (!doorMap) {
		return false;
	}
	for (const doorId of Object.values(closedDoors)) {
		const doorPath = doorMap[doorId];
		if (doorPath) {
			const intersections = intersect(doorPath, `M ${p1.x + 40} ${40 - p1.y} L ${p2.x + 40} ${40 - p2.y}`);
			if (intersections.length > 0) {
				return true;
			}
		}
	}
	return false;
}
