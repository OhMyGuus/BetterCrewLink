import { MapType, Vector2 } from './AmongusMap';
import intersect from 'path-intersection';

export const colliderMaps: { [key in MapType]: string[] | undefined } = {
	[MapType.THE_SKELD]: [
		'M 34.6992 34.289 L 33.6494 35.3171 L 33.6494 37.5682 L 25.3 37.5682 L 25.3 36.35 L 21.7101 36.35 L 20.4092 37.4595 L 20.4041 41.7452 L 22.1964 41.7452 L 22.1964 44.0513 L 20.9723 44.0513 L 20.9723 42.6154 L 19.3986 42.6154 L 19.3986 40.962 L 18.2653 40.962 L 16.4279 42.115 L 16.426 48.0411 L 18.2506 49.142 L 19.3986 49.142 L 19.3986 47.4886 L 20.9723 47.4886 L 20.9723 46.1833 L 22.1964 46.1833 L 22.1964 48.6633 L 20.3604 48.6633 L 20.3604 53.0394 L 21.6936 54.0568 L 25.3 54.0586 L 25.3 52.4052 L 27.0486 52.4052 L 27.0486 55.2769 L 34.7861 55.3533 L 36.9506 57.5829 L 41.0809 57.5829 L 41.0809 52.9708 L 44.1846 52.9708 L 44.1846 53.5364 L 41.3869 53.5364 L 41.3869 56.5202 L 42.473 57.5394 L 45.5179 57.5366 L 46.6326 56.5171 L 46.6326 53.5364 L 46.0207 53.5364 L 46.0207 52.9708 L 46.9386 52.9708 L 46.9386 55.0158 L 49.4812 55.0158 L 51.7472 52.8217 L 51.7472 49.577 L 50.3921 49.577 L 50.3921 47.1404 L 52.7526 47.1404 L 52.7526 45.4436 L 55.4629 45.4436 L 55.4629 46.7924 L 57.4542 46.7924 L 59.1786 45.3947 L 59.1786 43.4481 L 57.4705 41.9628 L 55.4629 41.9628 L 55.4629 43.3116 L 52.7526 43.3116 L 52.7526 41.9628 L 50.3921 41.9628 L 50.3921 41.0055 L 51.7472 41.0055 L 51.7408 37.764 L 49.5133 35.6103 L 46.9386 35.6103 L 46.9386 37.5682 L 45.0589 37.5682 L 45.0524 36.1976 L 42.0404 33.2607 L 35.7489 33.2607 Z',
		'M 46.9386 39.8442 L 48.0681 41.0055 L 48.5997 41.0055 L 48.5997 41.9628 L 47.8567 41.9628 L 47.8567 41.5711 L 45.5398 41.5711 L 45.5398 41.7668 L 43.9661 43.6069 L 43.9661 45.226 L 47.8567 45.226 L 47.8567 44.0948 L 50.9603 44.0948 L 50.9603 45.0084 L 48.5997 45.0084 L 48.5997 49.577 L 48.0282 49.577 L 46.9465 50.8388 L 41.0809 50.8388 L 41.0809 48.2282 L 40.2066 48.2282 L 40.2066 47.8801 L 41.8677 47.8801 L 41.8677 50.4473 L 46.1285 50.4473 L 47.0698 49.5133 L 47.0698 45.7481 L 40.2066 45.7481 L 40.2066 44.6169 L 42.4584 44.6169 L 45.0589 42.0275 L 45.0589 39.7437 L 46.9386 39.7437 Z ',
		'M 29.9775 40.0047 L 29.9775 40.2223 L 28.7535 40.2223 L 28.7535 44.8499 L 29.6059 45.9657 L 34.9609 45.9657 L 34.9609 44.5314 L 33.2124 42.8206 L 33.2124 40.2223 L 31.7697 40.2223 L 31.7697 39.7873 L 33.6494 39.7873 L 33.6494 42.071 L 36.2062 44.6169 L 38.3706 44.6169 L 38.3706 48.2282 L 36.3817 48.2312 L 34.7861 49.7951 L 34.7861 53.1014 L 31.3326 53.1014 L 31.3326 52.5357 L 32.6071 52.5357 L 33.6932 51.5166 L 33.6932 49.4532 L 34.9609 48.2546 L 34.9609 46.8359 L 29.6277 46.8359 L 29.6277 53.1014 L 28.7972 53.1014 L 28.7972 50.2732 L 25.3 50.2732 L 25.3 48.6633 L 23.9886 48.6633 L 23.9886 46.1833 L 25.3875 46.1833 L 25.3875 47.445 L 28.2289 47.445 L 28.2289 42.7259 L 27.4657 41.9628 L 26.371 41.9655 L 25.3875 42.921 L 25.3875 44.0513 L 23.9886 44.0513 L 23.9886 41.7452 L 25.297 41.7452 L 25.3 39.7873 L 29.9775 39.7873 Z',
	],
	[MapType.MIRA_HQ]: [
		'M 39.79 31.723 H 28.373 V 40.223 H 33.731 V 42.698 H 43.717 V 42.213 H 53.633 V 40.463 V 42.213 H 57.119 V 37.556 H 53.594 V 36.64 V 38.64 V 37.556 H 57.119 V 33.806 H 53.584 V 34.733 V 33.757 L 57.805 29.561 L 62 33.802 H 61.098 V 38.437 H 60.118 H 61.118 V 33.802 H 57.868 V 40.74 H 60.783 H 57.868 V 43.907 H 60.366 V 42.74 H 69.283 V 40.574 H 66.783 H 69.283 V 33.74 H 64.449 V 31.49 H 62.949 L 58.989 27.53 V 21.66 V 23.235 H 62.822 V 18.142 H 58.405 H 59.072 V 19.975 V 18.142 H 62.905 V 14.058 H 52.822 V 18.219 H 57.17 H 56.586 V 21.552 V 18.213 H 52.83 H 52.747 V 23.297 H 56.664 V 27.63 L 52.614 31.513 H 51.197 V 34.68 V 33.753 H 48.27 V 37.086 H 47.27 V 26.678 V 30.345 H 52.227 V 24.54 H 44.879 V 28.54 V 23.209 H 39.977 V 30.499 H 44.942 V 37.083 H 43.713 V 39.916 H 51.188 V 36.621 V 39.955 H 43.713 V 40.332 H 37.386 V 40.082 H 39.803 Z M 63.203 40.64 H 64.369',
	],
	[MapType.POLUS]: [
		'M 51.257 48.531 V 48.131 H 41.423 V 50.498 H 41.857 H 41.423 V 53.131 H 44.751 H 44.365 V 50.459 H 43.184 H 44.365 V 53.131 H 44.532 V 58.095 H 44.798 H 43.798 H 44.165 V 55.161 L 43.189 54.352 H 40.123 V 58.052 H 42.423 V 60.652 H 42.123 H 42.423 V 58.068 H 40.123 V 60.662 H 40.777 H 40.123 V 62.495 H 42.744 H 40.123 V 65.095 H 44.477 V 62.462 H 44.111 H 44.477 V 61.962 H 45.244',
		'M 46.577 61.962 H 47.011 V 58.095 H 46.244 V 53.131 H 46.111 H 46.577 V 50.544 H 46.811',
		'M 51.257 50.205 V 50.544 H 48.14',
		'M 54.09 46.221 V 38.754 H 59.289 V 46.216',
		'M 64.738 48.655 V 48.445 H 65.938',
		'M 64.738 50.384 V 50.684 H 72.552 V 48.541 H 72.085 H 72.552 V 48.141 V 48.541 H 75.619 H 75.419 V 49.334 V 48.541 H 72.552 V 50.967 H 75.463 V 50.767 V 50.967 H 77.996 V 50.401 V 50.967 H 78.363 H 78.196 V 58.034 L 78.343 58.248 L 78.176 58.014 H 74.976 L 73.677 59.247 V 59.68 H 66.722 V 63.458 H 65.475 V 63.639 V 63.121 H 64.573 H 65.475 V 59.872 H 61.775 V 61.439 V 59.872 H 65.475 V 58.072 H 65.109 H 68.703 V 57.763',
		'M 70.711 48.578 H 67.311 V 48.445 H 68.611 V 46.178 H 72.544 V 46.545 V 44.845 H 75.678 V 45.245 V 45.011 H 77.044 V 46.011 H 81.144 V 48.578 H 79.944 H 76.944 H 77.996 V 48.711 V 48.578 H 81.144 V 50.967 H 79.756 H 79.956 V 59.364 H 79.389 V 61.364 L 78.129 62.557 H 75.003 L 73.701 61.223 V 61.023 V 61.347 H 68.844 V 65.376 H 65.474 V 65.807 H 62.693 V 63.954 H 61.626 H 62.693 V 63.121 H 63.226 H 62.693 V 65.807 H 60.646 V 63.94 V 65.807 H 59.546 V 62.907 H 57.403 V 62.541 V 62.907 H 59.713 V 59.874 H 60.313 H 59.279',
		'M 68.703 56.136 V 55.503 H 63.436 V 58.07 H 63.736 H 62.936 H 63.47 V 55.536 H 55.803 V 58.103 H 56.503 H 56.57 H 55.803 V 59.903 H 57.937 H 57.403 V 60.87',
		'M 57.936 58.097 H 61.602',
		'M 57.193 51.668 H 58.493 V 53.006 H 62.73 V 49.972 H 57.193',
		'M 51.646 58.923 V 57.79 H 53.313 V 54.857 H 50.113 V 58.923',
		'M 52.257 60.719 V 61.801 H 49.591 V 65.268 H 52.991 L 54.2 64.025 V 61.758 H 53.791 V 60.719',
	],
	[MapType.AIRSHIP]: [
		'M 25.4672 56.9081 L 25.4672 55.36 L 25.1413 55.36 L 25.1413 53.16 L 25.1168 53.3392 L 22.7783 53.3229 L 22.7783 50.7155 L 31.008 50.7155 L 31.008 51.1229 L 31.2524 51.1229 L 31.2524 48.0104 L 31.2524 50.2266 L 24.9294 50.2266 L 24.1635 49.4444 L 24.1635 47.4726 L 25.0924 46.9674 L 27.8709 46.9674 L 26.445 48.5155 L 26.8117 48.5155 L 28.5635 46.7637 L 28.5635 45.9489 L 26.7546 43.6674 L 26.2413 43.6104 L 27.8302 45.6637 L 25.3206 45.6637 L 24.5709 44.5637 L 24.5709 42.6733 L 25.4672 41.9155 H 28.295 L 23.8376 41.9155 L 23.8376 41.7526 L 23.5931 41.7526 L 23.5931 44.0422 L 14.6465 44.1237 L 14.6139 38.1104 L 23.5931 38.0859 L 23.5931 39.96 L 23.8376 39.96 L 23.8376 39.6341 L 25.8339 39.6096 L 25.2228 39.5444 L 24.7339 38.697 L 24.7339 36.7007 L 26.5265 36.7007 L 26.5265 36.9452 L 27.3413 36.9452 L 27.3413 36.1304 L 28.482 36.1304 L 28.482 39.5037 L 27.5694 39.5852 L 31.1709 39.6341 L 31.1709 39.96 L 31.3339 39.96 L 31.3339 37.1081 L 37.445 37.1081 L 37.445 32.5452 H 38.428 H 36.3043 L 36.3043 31.9748 V 35.809 H 25.806 V 24.488 H 36.3043 V 30.424 V 30.224 H 42.6598 V 30.076 H 43.882 V 25.7822 L 42.9043 25.7822 L 42.9043 22.4415 L 47.0598 22.4415 L 47.0598 22.8489 L 47.6302 22.8489 L 47.6302 22.4415 L 54.4746 22.4415 L 54.4746 23.6637 L 54.6376 23.6637 L 54.6376 23.0933 L 56.5931 23.0933 L 56.5931 23.5007 L 57.9294 23.4926 L 57.9783 25.7496 L 54.6376 25.7822 L 54.6376 25.4563 L 54.4746 25.4563 L 54.4746 26.3526 L 47.6302 26.3526 L 47.6302 25.7822 L 47.0598 25.7822 L 47.0598 26.3526 H 45.96 V 25.7822 H 45.22 V 30.076 H 45.9191 V 30.878 H 49.453 V 29.779 L 56.418 29.788 V 26.5074 H 63.8368 V 29.7748 L 64.008 29.7748 L 64.008 29.1229 L 67.6746 29.1229 L 67.6746 33.5229 L 67.8376 33.5229 L 67.8376 33.197 L 68.5709 33.197 L 68.5709 31.4859 L 69.948 31.4859 L 70.005 33.2378 L 70.0376 31.4859 L 71.4228 31.4859 L 71.4228 33.197 L 71.5857 33.197 L 71.5857 31.4859 L 72.9709 31.4859 L 72.9709 33.197 L 73.1339 33.197 L 73.1339 31.4859 L 74.4376 31.4859 L 74.4376 33.197 L 75.0894 33.197 L 75.0894 35.397 L 74.5191 35.397 L 74.5191 35.56 L 75.7413 35.56 L 75.7413 36.4563 L 79.7339 36.4563 L 79.7339 44.2785 L 73.3457 44.3111 L 73.4598 44.3681 L 73.4598 46.8044 L 70.9339 46.8044 L 70.9339 47.8637 L 67.2672 47.8637 L 67.2672 46.8044 L 66.6968 46.8044 L 66.6968 46.397 L 66.4524 46.397 L 66.4524 50.0311 L 65.8331 50.6341 L 62.248 50.6341 L 61.4006 49.7704 L 61.4006 49.1674 L 61.2376 49.1674 L 61.2376 49.4118 L 59.9339 49.4118 L 59.9339 49.7378 L 60.5857 49.7378 L 60.5857 51.8563 L 57.9783 51.8563 L 57.9783 51.6933 L 57.5709 51.6933 L 57.5709 51.8563 L 54.882 51.8563 L 54.882 51.5304 L 52.9346 51.5304 L 52.6006 51.1718 L 52.6006 49.4118 L 51.8672 49.4118 L 51.8672 49.1674 L 51.5413 49.1674 L 51.5413 49.4118 L 50.808 49.4118 L 50.808 50.96 L 49.4228 50.96 L 49.4228 53.16 L 47.7931 53.16 L 47.7931 54.2192 L 50.8813 54.2763 L 50.808 56.9081 L 45.0472 56.8674 L 44.9413 53.5674 L 46.4 53.5674 L 46.4 53.16 L 44.4931 53.16 L 44.4931 52.8341 L 44.4931 52.8341 L 44.4931 53.16 L 41.3968 53.16 L 38.5043 53.16 L 38.5043 52.8341 L 38.3413 52.8341 L 38.3413 53.2415 L 31.2524 53.2415 L 31.2524 52.7363 L 31.0487 52.7363 L 31.0487 53.3229 L 27.3006 53.3392 L 27.2598 53.16 L 27.2598 55.36 L 26.445 55.36 L 26.445 56.9081 Z M 44.4931 49.0452 L 49.3413 49.0044 L 49.3413 47.057 L 48.9746 47.0081 L 48.9746 44.8896 L 51.4761 44.8407 L 51.7206 45.0444 L 51.8591 44.8081 L 54.5154 44.8407 L 54.5724 45.0118 L 54.8006 45.0118 L 54.8006 44.8489 L 57.6524 44.8489 L 57.6524 45.0118 L 57.8968 45.0118 L 57.8968 44.8489 L 58.5487 44.8489 L 58.5487 44.6044 L 56.9191 44.6044 L 56.9191 42.8933 L 60.5857 42.8933 L 60.5857 44.6044 L 59.9339 44.6044 L 59.9339 44.8489 L 60.6754 44.8489 L 60.6265 47.0081 L 59.9339 47.057 L 59.9339 47.2118 L 61.2294 47.2118 L 61.2946 47.66 L 61.3191 45.2889 L 62.4517 44.36 L 66.4524 44.36 L 66.4524 44.6859 L 66.6154 44.6859 L 66.6154 44.36 L 71.708 44.3274 L 69.7931 44.2704 L 69.7931 43.9933 L 65.108 43.9933 L 65.0835 43.3252 L 65.075 39.742 L 65.002 42.698 L 62.6228 42.6489 L 60.1783 42.6489 L 60.1783 41.7526 L 60.1783 40.8563 L 59.9013 40.8563 L 59.6161 40.8563 L 59.5917 41.1252 L 59.5672 41.3859 L 58.6465 41.4104 L 57.7176 41.4348 L 57.6361 41.1007 L 57.4894 41.1007 L 57.4731 40.8155 L 57.3998 41.1007 L 53.6598 41.1007 L 53.6598 42.4044 L 54.5561 42.4044 L 54.5561 44.3355 L 51.2887 44.3437 L 51.3376 41.1007 L 47.5487 41.1007 L 47.5487 42.4044 L 48.445 42.4044 L 48.445 44.2785 L 45.1857 44.2785 L 45.1857 41.1007 L 44.2976 41.1007 L 44.1346 40.8155 L 44.1265 43.2192 H 31.3339 V 41.9155 H 29.833 L 31.0894 42.7466 L 31.122 46.3563 L 31.11 44.824 L 33.4524 44.8489 L 33.4524 47.7822 L 37.8931 47.8229 L 37.942 49.4933 L 38.4228 49.4933 L 38.4228 50.8785 L 41.3968 50.8785 L 44.4931 50.8785 L 44.4931 51.2252 Z M 54.8006 49.9822 L 54.8006 49.6563 L 55.5339 49.6563 L 55.5339 49.4933 L 54.8006 49.4933 L 54.8006 49.2489 L 54.5561 49.2489 L 54.5561 49.4933 L 53.8228 49.4933 C 53.8228 49.7866 53.8472 49.9007 53.9287 49.9822 Z M 57.8968 49.9822 L 57.8968 49.6563 L 58.5487 49.6563 L 58.5487 49.4933 L 57.8968 49.4933 L 57.8968 49.2489 L 57.6524 49.2489 L 57.6524 49.4933 L 57.0006 49.4933 L 57.0006 49.6563 L 57.6524 49.6563 L 57.6524 49.9822 Z M 51.7857 47.6192 L 51.7857 47.2933 L 52.5191 47.2933 L 52.5191 47.0489 L 51.7857 47.0489 L 51.7857 46.8044 L 51.5413 46.8044 L 51.5413 47.0489 L 50.9709 47.0489 L 50.9709 47.2933 L 51.5413 47.2933 L 51.5413 47.6192 Z M 54.8006 47.6192 L 54.8006 47.2118 L 55.5339 47.2118 L 55.5339 47.0489 L 54.8006 47.0489 L 54.8006 46.8044 L 54.5561 46.8044 L 54.5561 47.0489 L 53.9857 47.0489 L 53.9857 47.2118 L 54.5561 47.2118 L 54.5561 47.6192 Z M 57.8968 47.6192 L 57.8968 47.2118 L 58.5487 47.2118 L 58.5487 47.0489 L 57.8968 47.0489 L 57.8968 46.8044 L 57.6524 46.8044 L 57.6524 47.0489 L 57.0006 47.0489 L 57.0006 47.2118 L 57.6524 47.2118 L 57.6524 47.6192 Z M 57.5791 38.6563 L 57.6524 38.6563 L 57.6524 37.5563 L 57.6524 36.4644 L 56.666 36.4644 L 56.6665 34.0118 L 59.078 34.0118 L 56.666 34.0118 L 56.6665 31.7304 H 56.418 L 56.418 31.3637 L 56.418 32.224 L 51.2154 32.2192 V 32.2192 H 56.418 V 34.562 H 50.2457 V 32.2192 L 49.4635 32.2192 L 49.453 31.702 H 45.922 V 32.3415 H 44.6154 V 33.8489 H 42.6598 V 32.012 L 42.5702 32.5452 H 39.753 H 40.2154 L 40.2154 37.1081 L 44.1265 37.1081 L 44.1346 39.0229 L 44.2813 38.6563 L 45.2672 38.6563 L 45.2672 37.1163 L 44.5746 37.0674 L 44.5746 35.5192 L 47.1413 35.4704 L 47.1413 38.6563 L 47.8665 38.6563 L 47.9154 36.5785 L 48.9257 36.5296 L 48.9746 35.6007 L 50.7265 35.5518 L 50.7265 38.6563 L 50.9709 38.6563 L 50.9709 36.3748 L 53.9043 36.3748 L 53.9043 38.6563 L 53.9857 38.6563 L 54.0672 38.6563 L 54.0672 35.56 L 55.3709 35.56 L 55.3709 36.5378 L 57.0006 36.5378 L 57.0006 38.6563 L 57.408 38.6563 L 57.4324 39.1044 L 57.4976 38.6563 Z M 60.1783 38.0859 L 60.1783 36.2118 L 64.8228 36.2118 L 64.8228 38.1674 L 65.0591 38.1674 L 65.108 37.2304 L 69.7524 37.2304 L 69.8339 36.4155 L 72.148 36.3666 L 72.1968 35.5192 L 73.0931 35.4215 L 67.8376 35.397 L 67.8294 35.1933 L 67.6828 35.56 L 64.008 35.56 L 63.993 31.486 L 63.993 34.0037 L 60.578 34.0037 L 61.1643 34.0118 L 61.1154 35.9266 L 59.6894 35.9755 L 59.6894 38.1674 L 63.3154 38.1266 Z',
	],
	[MapType.SUBMERGED]: [
		// not tested might require some small offset adjustments
		'M 40 4.7 C 40.5 4.7 41 4.9 41.2 5.5 V 7.1 H 42.8 V 8.3 L 44.5 10 V 11 H 41.3 V 13.6 L 43.3 15.6 L 45.4 13.5 V 12.8 H 44.6 V 9.4 L 42.9 7.7 V 7.1 H 48.9 V 11.4 L 47.5 12.8 H 46.7 V 14.4 L 44.3 16.8 V 17.4 H 46.9 V 18.7 H 49.6 V 11.3 H 51.1 V 12.1 H 51.3 V 11.4 H 52.9 V 14.2 H 51.3 V 13.5 H 51.1 V 15.3 H 53.1 V 13.5 H 55.7 V 17.4 H 51.1 V 26.9 H 48.9 V 29.4 H 49.4 V 30.5 H 49.6 V 29.8 H 51.2 V 32.7 H 49.6 V 31.9 H 49.3 V 32.7 H 48.4 V 33.7 H 49.1 V 35.5 H 46.4 V 33.7 H 47.1 V 32.8 H 46.3 V 31.6 L 45.4 30 H 44.9 V 30.8 H 45.3 L 46.2 32.2 V 32.8 H 43.5 V 28 H 44.2 V 22.9 H 42.1 V 24.4 H 42.4 V 26.1 H 40.8 V 26.8 H 42.4 V 30.5 C 42.4 31.1 41.6 31.4 41 31.4 C 40.5 31.4 39.7 31 39.7 30.4 V 29 H 41 V 28.3 H 35.1 V 26.9 H 34.9 V 27.7 H 31.8 V 22.7 H 32.7 V 21.4 H 31.3 V 28.6 H 33.9 V 31.4 H 28.5 V 27.1 H 29.8 V 21.4 H 29.1 V 25.5 H 24.3 V 18.7 H 29.1 V 20 H 29.9 V 15.6 H 27 V 8.3 H 28.3 L 30.8 9.7 V 10.5 H 36 V 12.3 H 39.9 V 11 H 39.1 L 37.3 9.2 V 7.1 H 38.8 V 5.5 C 39 4.9 39.6 4.7 40 4.7 Z M 51.1 59.4 V 60.1 H 51.3 V 59.5 H 52.9 V 62.4 H 51.3 V 61.6 H 51.1 V 64 H 54.4 V 66.3 L 52.9 67.4 V 69.7 H 50.7 V 70.3 H 51.4 V 70.5 H 51.5 V 70.3 H 52.8 L 54.3 71.5 V 73 H 51.5 V 72 H 51.4 V 73 H 48.4 V 70.3 H 49.3 V 69.7 H 48.4 V 68.3 H 46.9 V 71 H 43.5 V 72.1 L 46.8 73 V 76.9 H 45.9 V 77.7 H 49.4 V 78.6 H 49.5 V 77.9 H 51.2 V 80.8 H 49.5 V 80 H 49.4 V 80.9 H 48.4 V 81.8 H 49.2 V 83.5 H 46.3 V 81.8 H 47.1 V 80.9 H 43.5 V 80.1 H 37.8 V 80.9 H 36 V 80 H 35.8 V 80.9 H 32.1 L 31.7 80.6 V 81.3 L 32 81.6 H 34.2 V 83.8 H 28.1 V 77.8 H 30.3 V 79.9 L 30.5 80.1 V 79.4 L 30.3 79.2 V 75.2 H 31.1 V 74.3 H 30.3 V 72.4 H 31.1 V 69.6 H 29.6 V 75.1 H 23.8 V 73 H 28.1 V 72.4 H 23.8 V 69.2 H 28.1 V 68.5 H 23.8 V 66.5 H 29.6 V 68.1 H 32.8 V 67.2 H 32 V 65.4 H 34.8 V 67.2 H 34.1 V 68.1 H 35.7 V 67.2 H 35 V 65.4 H 37.8 V 67.2 H 37 V 68.1 H 39.7 V 65.5 H 41.1 V 59.4 Z M 36 13.7 V 15.6 H 31.2 V 20 H 32.7 V 19 H 32 V 17.4 H 34.8 V 19 H 34.1 V 20 H 35.7 V 19 H 35 V 17.4 H 37.8 V 19 H 37 V 20 H 39.7 V 17.4 H 42.2 V 16.8 L 39.9 14.4 V 13.7 Z M 34.1 21.4 V 22.7 H 35 V 25.5 H 35.1 V 24.9 L 36.7 24.5 H 40.7 V 22.9 H 39.7 V 21.4 Z M 42.5 60.8 V 65.5 H 46.9 V 66.8 H 48.4 V 63.2 H 49.8 V 62.4 H 48.4 V 65.4 H 47 V 63.9 L 45.7 61.7 V 60.8 Z M 32.5 69.6 V 72.4 H 33.3 V 74.3 H 32.5 V 75.2 H 33.3 V 76.4 L 34.8 77.8 H 35.8 V 78.5 H 36 V 77.8 H 37.8 V 78.6 H 43.5 V 77.7 H 44.5 V 76.9 H 38.8 V 73 L 42.1 72.1 V 71 H 39.7 V 69.6 H 36.1 V 72.2 H 37.5 V 75.6 H 35.5 L 34.2 74.3 V 70.7 H 34.7 V 69.6 Z M 46.9 22.9 H 45.5 V 28 H 46.1 L 47 29.4 H 47.5 V 25.4 H 49.7 V 20.1 H 46.9 Z',
	],
	[MapType.THE_SKELD_APRIL]: undefined,
	[MapType.UNKNOWN]: undefined,
};

export const doorMaps: { [key in MapType]: { [key in number]: string | undefined } | undefined } = {
	[MapType.MIRA_HQ]: {
		0: 'M 44.942 37.086 H 47.27',
		1: 'M 44.942 30.499 H 47.27',
	},
	[MapType.POLUS]: {
		0: 'M 51.257 48.531 V 50.205', // right elecrtrical door
		1: 'M 48.14 50.544 H 46.811 ', // electical vence door
		2: 'M 44.751 53.131 H 46.111', // electical door to o
		3: 'M 44.798 58.095 H 46.244 ', // o2 door to electical
		4: 'M 45.244 61.962 H 46.577', // o2 to outside
		5: 'M 52.257 60.719 H 53.791', // Weapons door
		6: 'M 50.113 58.923 H 51.646', // communications door
		7: 'M 68.703 56.136 V 57.763', // office vidals door
		8: 'M 57.403 60.87 V 62.541', // office left door
		9: 'M 65.938 48.445 H 67.311', // door to drill
		10: 'M 64.738 48.655 V 50.384', // door outside to med
		11: 'M 57.193 49.972 V 51.668', // storage door
		12: 'M 65.475 63.639 V 65.376', // decom door office->spec
		13: 'M 63.226 63.121 H 64.575', // decom door spec->office
		14: 'M 77.996 50.401 V 48.711', // decom door med->spec
		15: 'M 78.363 50.967 H 79.756', // decom door spec->med
	},
	[MapType.THE_SKELD]: {
		0: 'M 45.059 37.568 V 39.744 ', // cafetaria-> weapons
		3: 'M 38.371 44.717 H 40.207', // cafetaria -> Admin hallway
		8: 'M 33.649 37.568 V 39.787', // cafetaria -> medbay hallway
		10: 'M 29.977 39.787 H 31.77', //medbay
		2: 'M 25.3 39.787 V 37.568 ', // upperengine <- medbay hallway
		5: 'M 22.196 41.945 H 23.989', // upperengine <- security hallway
		6: 'M 25.154 44.051 V 46.183', // security
		4: 'M 22.196 48.663 H 24.169', // lowerengine <- security hallway
		11: 'M 25.412 52.405 V 50.274', // lowerengine <- Elecrtical hallway //25.4117 51.3337
		9: 'M 29.628 53.101 H 31.333', // elecrtrical
		1: 'M 34.786 55.353 V 53.101', //storage -> Electrical
		7: 'M 38.371 48.231 H 40.207', // storage -> Admin
		12: 'M 41.081 52.971 V 50.839', // storage -> shields
	},
	[MapType.AIRSHIP]: {
		0: 'M 23.8376 41.7526 V 39.96', // Comms Left
		1: 'M 31.1709 39.96 V 41.9155', //Comms Right
		2: 'M 27.5694 39.6096 H 25.8339', //Comms Top
		3: 'M 28.295 41.9155 H 29.833', //Comms Bottom
		4: 'M 38.428 32.5452 H 39.753', //Brig Bottom
		5: 'M 36.3043 31.9748 V 30.424', //Brig Left
		6: 'M 42.6598 30.224 V 32.012 ', //Brig Right
		7: 'M 31.122 46.3563 V 48.0104', //Armory Right
		8: 'M 31.2524 51.1229 V 52.7363', //Kitchen Left
		9: 'M 38.4228 50.8785 V 52.8341', //Kitchen Right
		10: 'M 44.1346 39.0229 V 40.8155', //Hallway left
		11: 'M 57.426 39.117 V 40.8155', //Hallway right
		12: 'M 56.418 31.3637 V 29.788', //Records Left
		13: 'M 64.008 29.7748 V 38.1674', //Records Right
		14: 'M 59.078 34.0118 H 60.578', //Records Bottom
		15: 'M 68.5709 33.197 H 70.0376', //Bathroom door 1
		16: 'M 70.005 33.197 H 71.4228', //Bathroom door 2
		17: 'M 71.5857 33.197 H 72.9709', //Bathroom door  3
		18: 'M 73.1339 33.197 H 74.4376', // Bathroom door 4
		19: 'M 61.2946 47.66 V 49.1674', //Medical Left
		20: 'M 71.708 44.3274 H 73.3457', //Medical Top
	},
	[MapType.SUBMERGED]: undefined,
	[MapType.AIRSHIP]: undefined,
	[MapType.THE_SKELD_APRIL]: undefined,
	[MapType.UNKNOWN]: undefined,
};

export function poseCollide(p1: Vector2, p2: Vector2, map: MapType, closedDoors: number[]): boolean {
	if (map === MapType.THE_SKELD_APRIL) {
		p1.x = p1.x * -1;
		p2.x = p2.x * -1;
		map = MapType.THE_SKELD;
	}
	const colliderMap = colliderMaps[map];
	if (!colliderMap || map === MapType.UNKNOWN) {
		return false;
	}
	for (const collider of colliderMap) {
		const intersections = intersect(collider, `M ${p1.x + 40} ${40 - p1.y} L ${p2.x + 40} ${40 - p2.y}`);
		if (intersections.length > 0) {
			return true;
		}
	}
	const doorMap = doorMaps[map];
	if (!doorMap) {
		return false;
	}
	for (const doorId of Object.values(closedDoors)) {
		const doorPath = doorMap[doorId];
		if (doorPath) {
			const intersections = intersect(doorPath, `M ${p1.x + 40} ${40 - p1.y} L ${p2.x + 40} ${40 - p2.y}`);
			if (intersections.length > 0) {
				return true;
			}
		}
	}
	return false;
}
