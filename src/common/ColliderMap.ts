import { MapType, Vector2 } from './AmongusMap';
import intersect from 'path-intersection';

export const colliderMaps: { [key in MapType]: string[] | undefined } = {
	[MapType.THE_SKELD]: [
		'M 38.575423,44.398703 36.353734,44.375313 33.898182,41.943051 33.886492,39.604333 H 31.793427 L 31.781747,40.317644 33.196613,40.352684 33.184933,42.808334 34.892127,44.562373 34.927187,45.720038 29.875767,45.708378 29.09233,44.702733 V 40.32933 L 30.285027,40.36437 30.296707,39.615982 25.420686,39.604312 V 41.568832 L 24.111058,41.557172 24.122738,44.153146 25.759773,44.082956 25.771453,42.92529 26.695208,42.036581 27.618966,42.059971 28.320549,42.77328 28.297169,47.158371 25.748074,47.193411 25.771454,45.88373 24.111035,45.95394 24.134405,48.70193 25.432337,48.67854 25.444017,50.292253 28.835015,50.257213 28.870075,53.063671 29.957531,53.122101 V 46.912812 L 34.927097,46.877772 34.938787,48.035435 33.687629,49.22818 33.722689,51.297943 32.693695,52.210046 H 31.325603 L 31.372343,53.098753 35.008902,53.063713 34.985522,49.672573 36.552402,48.222572 38.540225,48.199182 Z',
		'M 40.067838,44.383854 40.084378,45.814257 46.84779,45.789467 46.83949,49.320001 45.979594,50.171628 41.986039,50.179928 V 47.600241 L 40.092615,47.575451 40.067825,48.23691 40.93599,48.2617 40.92769,50.849656 H 46.938692 L 46.946992,50.64295 47.947448,49.56808 47.997058,49.57638 48.600639,49.53504 48.608939,45.020587 50.899238,45.061927 50.932308,43.871302 47.60848,43.854762 47.62502,44.970973 44.044876,44.962673 44.061416,43.598415 45.591038,42.019183 V 41.61404 L 47.600218,41.65538 47.616758,42.02745 48.575873,42.01915 48.608943,40.828525 H 48.054958 L 46.980089,39.82807 V 39.563486 L 44.830349,39.522146 V 41.903396 L 42.39121,44.41694 Z',
		'M 35.892382,33.436718 33.908007,35.338411 33.899707,37.686588 H 25.433041 L 25.424741,36.471158 H 22.076095 L 20.88547,37.562565 20.87717,41.564387 22.60523,41.556087 22.64657,44.144043 21.158289,44.094433 21.141749,42.672297 19.636931,42.721907 19.595591,41.02692 18.669549,41.03522 16.974562,42.11009 16.982862,47.823436 18.644777,48.840428 19.645232,48.865218 19.612162,47.195035 21.166589,47.261185 21.141789,45.913464 22.646606,45.921764 22.663146,48.658548 H 20.827599 L 20.811059,52.80093 22.084366,53.702167 25.432999,53.718707 25.416459,52.040256 27.409102,52.073326 27.450442,54.917597 34.999336,54.867987 35.024126,55.165643 37.107813,57.224414 40.952539,57.199604 V 52.61901 L 44.243294,52.63555 44.259834,53.495446 C 44.259834,53.495446 41.481709,53.429296 41.489977,53.462376 41.498277,53.495446 41.523047,56.19916 41.523047,56.19916 L 42.506966,57.166543 C 42.506966,57.166543 45.342969,57.133473 45.376042,57.150003 45.409112,57.166543 46.417839,56.18262 46.417839,56.18262 L 46.426139,53.495446 45.797753,53.454106 V 52.643819 H 46.971842 L 46.988382,54.677804 49.295218,54.636464 51.453226,52.577675 51.428416,49.559772 H 50.113768 L 50.097228,46.880865 52.428868,46.864325 V 45.218947 L 55.36409,45.177607 55.37239,46.525329 57.158327,46.550129 58.721023,45.260286 58.754093,43.391666 57.141788,42.077017 55.380655,42.043947 55.364115,43.399937 52.420625,43.383397 V 42.052213 L 50.105521,42.060513 50.080711,40.836815 51.428432,40.820275 51.453242,37.827176 49.295234,35.735314 46.98013,35.760124 46.95532,37.69489 44.879995,37.73623 44.855185,36.272753 41.977842,33.445019 Z',
	],
	[MapType.MIRA_HQ]: [
		'M 62.718433,18.48407 62.696841,23.385803 58.950362,23.375006 58.928767,21.906645 58.810003,21.885052 58.799205,23.806877 58.810003,27.639729 62.740029,31.526567 64.132811,31.537365 64.175996,33.739904 H 68.883389 L 68.948169,39.494584 68.906834,40.28329 66.627632,40.235087 66.562083,40.352 H 68.899199 L 68.894187,42.323337 60.224381,42.312539 60.235176,43.327436 57.827497,43.424607 57.773514,40.401512 57.881482,40.304341 60.699438,40.325934 60.65625,40.185575 57.816702,40.271951 57.805904,38.274548 58.820801,38.242157 58.766815,38.188175 57.751921,38.220565 57.784311,33.772295 60.915372,33.750702 60.92617,38.134189 59.878883,38.177377 59.911273,38.242157 61.012545,38.29614 V 33.739904 L 62.005847,33.729107 57.741123,29.475181 53.379229,33.772295 53.50879,33.869466 53.4764,35.337826 53.551976,35.327029 53.562773,33.761497 57.05013,33.772295 V 37.4324 L 53.551976,37.389212 V 36.406706 L 53.50879,36.395911 53.465602,39.030322 53.551976,38.997932 V 37.464791 L 57.060927,37.497181 57.039332,41.902263 53.551976,41.891465 53.541181,40.109999 53.454805,40.163982 V 41.880668 L 43.651339,41.826685 43.672931,42.312539 33.966636,42.334132 33.945044,39.624145 M 33.945044,39.624145 H 33.232457 L 33.25405,35.607746 37.864272,35.569956 37.891262,39.624145 37.232658,39.63494 37.243456,40.423105 43.818688,40.40691 43.81329,39.726713 51.219875,39.721316 51.23607,36.363521 51.117306,36.385113 51.106509,39.543169 48.283153,39.553964 43.824088,39.521574 43.851078,37.011326 44.979341,37.016724 45.011731,36.854772 45.017131,30.203962 40.099202,30.187767 40.061414,30.085199 40.056014,23.434388 44.871375,23.407396 44.898365,29.081097 44.963146,29.0757 44.984741,24.800179 47.149493,24.794781 47.219671,25.512766 47.257459,24.762391 52.06742,24.767789 52.09981,30.144579 47.322239,30.160775 47.268256,30.133784 47.273654,26.565452 47.187281,26.57085 47.171086,30.80858 47.192678,36.995131 48.315543,36.989731 48.288551,33.772295 51.084916,33.7561 51.122704,35.337826 51.176687,35.316234 V 31.515769 L 52.688235,31.526567 56.499495,27.823276 56.531885,23.321022 52.763814,23.375006 52.709828,20.006414 52.699033,18.527256 53.50879,18.494866 56.402324,18.538053 56.445512,22.446484 56.510292,22.42489 56.521087,18.473273 57.179691,18.51646 57.147301,18.376102 52.688235,18.386898 52.677438,17.350409 54.404921,15.914438 56.002843,15.029103 56.942161,14.813168 58.45371,14.888745 59.706136,15.234242 61.120511,16.054796 62.470109,17.188457 62.767299,17.7466 62.696841,18.397695 H 58.313351 L 58.345741,18.451679 58.78841,18.484069 58.810003,20.826968 58.874784,20.816172 58.896376,18.462476 62.718435,18.48407',
	],
	[MapType.POLUS]: [
		'M 54.122079,60.018712 V 61.455286 L 54.50628,61.421877 54.439462,63.77719 53.403793,64.979904 49.728836,65.096834 49.778948,61.388468 52.384827,61.338356 52.401532,60.068827',
		'M 51.349158,48.225445 51.315749,47.674201 41.677341,47.807837 41.643932,49.996105 41.994724,50.079626 H 41.627229 V 52.585278 L 44.600603,52.668802 44.567194,57.663399 H 44.299922 L 44.283219,55.057521 43.314368,54.038558 40.274176,54.071966 40.286706,57.717689 42.545968,57.730217 42.537617,60.494786 42.537615,57.742746 40.286706,57.755273 40.274177,60.39456 40.875534,60.419617 40.265825,60.457201 40.274176,62.181926 42.813237,62.206983 40.274176,62.240389 40.257473,64.812859 44.500376,64.796156 44.508729,61.739261 45.268776,61.755965',
		'M 46.7054 61.7894 L 47.0478 61.781 V 57.772 L 46.4798 57.7636 L 46.4882 53.4873 M 48.4259 50.0963 L 51.3742 50.0963',
		'M 46.4882 53.4873 V 52.6521 H 46.6803 V 50.51 H 46.9599',
		'M 43.456354,50.096332 H 44.608953 L 44.600603,52.668802',
		'M 50.179853,59.267018 50.196557,54.62321 53.370384,54.639915 53.387088,57.529764 51.783469,57.546468 51.766765,59.267018',
		'M 54.357701,46.278458 54.334076,43.46726 54.168711,43.278274 V 39.474888 L 55.727864,38.718937 57.664992,38.695312 59.365885,39.380395 59.436756,43.490885 59.129649,43.656249 59.20052,46.254836',
		'M 57.357885,49.774739 H 62.862166 V 52.751301 H 58.562686 V 51.452009 H 57.263392',
		'M 68.796846,57.490092 V 57.746923 L 65.62021,57.717394 65.153738,57.723299 65.555338,57.771299 65.55049,59.619057 61.911784,59.642763 61.955475,62.179145 61.969662,59.642763 65.556387,59.646642 65.558291,63.157459 H 66.972655 V 59.271391 H 73.669921 V 58.928849 L 74.851098,57.747675 H 78.193825 V 50.885044 L 72.616904,50.872642 72.604502,50.487328 72.624999,48.383945 75.516876,48.379798 75.53266,49.500238 75.571889,48.372036 75.659456,48.365698 72.626033,48.35914 72.629892,48.079308 72.601523,48.355887 72.236471,48.370193 72.604226,48.381551 72.571429,50.486987 64.893787,50.495255 V 50.129093',
		'M 57.446243,60.553253 57.454595,59.667921 57.955726,59.634512 55.809218,59.651217 55.814173,57.73119 56.654127,57.724188 55.820079,57.689849 55.788337,55.170276 63.485236,55.176677 63.50602,57.659222 62.98827,57.721917 63.769865,57.721365 63.533164,57.66131 63.529531,55.176648 68.796846,55.166101 68.821902,55.934501',
		'M 57.437892,62.19863 V 62.632944 H 59.584399 V 59.65957 H 59.392301 60.327743 59.601105 V 65.43092 L 60.528195,65.447624 60.603365,63.418048 60.595012,65.447624 62.808339,65.455976 V 62.850101 H 63.292764',
		'M 57.997486,57.74024 61.58725,57.716853',
		'M 62.93776,65.385155 65.480239,65.372752 65.455434,64.930403 65.889517,64.934536 68.688312,64.926267 V 60.854166 H 73.711262 L 75.087921,62.230825 H 78.217447 L 79.397737,61.050537 V 58.886327 L 79.986848,58.142187 V 50.866145 L 81.227082,50.849609 81.196481,48.426732 H 77.13315 L 81.202328,48.36242 81.254946,45.84257 H 77.103916 L 77.086377,44.907125 75.753369,44.895433 75.741677,45.655481 75.045942,44.901281 73.210133,44.91882 72.648867,45.509317 72.566111,45.921744 68.78753,45.888671 68.795799,48.302994 70.788442,48.294726 V 48.410481 L 67.435676,48.439419 67.415004,48.327799 68.692447,48.294726 68.688312,45.901072 64.967609,45.917609 64.95934,48.327799 66.083819,48.319531 66.096223,48.422882 64.963476,48.435286 64.95934,48.637856 64.851853,48.65026 64.860122,46.012695 64.649283,45.979622 64.624478,46.293815 64.516991,46.343424 64.558333,43.46608 64.938671,42.978255 64.905598,42.498697 64.566601,42.1597 63.921679,42.134895 63.54134,42.523502 63.483463,42.969986 63.640559,43.292447 63.847265,43.457812 63.888606,46.35996',
	],
	[MapType.AIRSHIP]: [
		'M 32.4125 4.1767 C 33.1851 4.3127 33.7745 4.9022 33.9105 5.6747 L 33.9367 8.3534 L 36.6746 8.3534 L 36.6746 10.1932 L 39.866 13.3846 L 39.866 15.8174 L 34.146 15.8174 L 34.146 19.2825 L 37.6443 22.7198 L 40.9682 19.4273 L 41.174 18.8518 L 40.0753 18.8518 L 40.0735 13.2451 L 36.8839 10.0711 L 36.8839 8.3534 L 46.9114 8.3534 L 46.9114 16.4364 L 44.4944 18.8518 L 43.2318 18.8518 L 43.2318 21.4938 L 39.2382 25.5083 L 43.4759 25.531 L 43.4759 27.8155 L 48.4984 27.8155 L 48.4984 15.2942 L 50.5562 15.2942 L 50.5562 18.1193 L 50.7655 18.1193 L 50.7655 15.2942 L 53.7651 15.2942 L 53.7651 21.52 L 50.7655 21.52 L 50.7655 20.1772 L 50.5562 20.1772 L 50.5562 21.7292 L 53.9743 21.7292 L 53.9743 19.0087 L 58.2992 19.0087 L 58.2644 24.4585 C 58.0813 25.5327 57.2546 26.3594 56.1804 26.5425 L 50.5562 26.5773 L 50.5562 34.5209 L 50.5562 42.4645 L 48.7164 42.4645 L 46.8766 42.4645 L 46.8766 45.6733 L 47.7311 45.6733 L 47.7311 48.8995 L 47.9404 48.8995 L 47.9404 46.1616 L 50.9399 46.1616 L 50.9399 52.3002 L 47.9404 52.3002 L 47.9404 50.9573 L 47.7311 50.9573 L 47.7311 52.3002 L 46.1441 52.3002 L 46.1441 52.5094 L 47.4869 52.5094 L 47.4869 56.9041 L 42.7435 56.9041 L 42.7435 52.5094 L 44.0863 52.5094 L 44.0863 52.3002 L 42.7435 52.3002 L 42.7435 50.3103 L 41.2925 47.8008 L 40.2322 47.766 L 40.2322 47.9752 L 41.1426 47.984 L 42.5342 50.3906 L 42.5342 52.3002 L 38.1744 52.3002 L 38.1744 43.2667 L 39.2208 43.2667 L 39.2208 35.7504 L 35.4365 35.7504 L 35.4365 37.3199 L 36.0468 37.3199 L 36.0468 41.1216 L 33.3438 41.1216 L 33.3438 41.3309 L 36.0468 41.3309 L 36.0381 48.542 L 35.9928 48.6641 C 35.8881 48.9449 35.7521 49.1611 35.5533 49.3582 C 35.2551 49.6564 34.8522 49.8656 34.3849 49.9668 C 34.1285 50.0226 33.6402 50.0226 33.3839 49.9668 C 32.566 49.7889 31.9608 49.2814 31.7655 48.61 L 31.7219 48.46 L 31.7219 44.9931 L 33.989 44.9931 L 33.989 44.8885 L 33.989 44.7839 L 23.8743 44.7839 L 23.8743 42.6214 L 23.665 42.6214 L 23.665 43.755 L 18.503 43.755 L 18.503 34.5471 L 20.0551 34.5471 L 20.0551 33.3438 L 17.2997 33.3438 L 17.2997 44.2433 L 21.6595 44.2433 L 21.6595 49.9633 L 12.9748 49.9633 L 12.9748 41.8018 L 15.2419 41.8018 L 15.2419 33.3438 L 13.6549 33.3438 L 13.6549 40.2846 L 11.6354 40.2846 C 6.6095 38.6732 6.2101 37.9512 6.0601 37.21 C 5.9956 32.13 5.9956 32.1248 6.0863 31.5998 C 6.1822 31.0331 6.3775 30.3704 6.6025 29.8437 C 7.4483 27.8626 9.0898 26.203 11.0739 25.5694 C 11.8168 25.2921 12.5702 25.1386 13.4683 25.0863 L 13.6549 25.0741 L 13.6549 29.8908 L 15.2419 29.8908 L 15.2419 23.508 L 10.4984 23.508 L 10.4984 9.5916 L 12.6068 9.5916 L 16.5655 11.8848 L 16.5672 13.9514 L 25.2868 13.9514 L 25.2868 17.0207 L 32.0881 17.0207 L 32.0881 15.8174 L 30.7366 15.8174 L 27.6934 12.7725 L 27.6934 8.3534 L 30.3093 8.3534 C 30.3093 5.7218 30.3128 5.6712 30.407 5.3905 C 30.6912 4.5551 31.5615 4.0285 32.4125 4.1767 M 50.5562 97.0491 L 50.5562 98.4617 L 50.7655 98.4617 L 50.7655 95.6366 L 53.7651 95.6366 L 53.7651 101.8624 L 50.7655 101.8624 L 50.7655 100.5195 L 50.5562 100.5195 L 50.5562 103.2924 L 55.9624 103.2924 L 55.9606 108.3236 L 53.4703 110.1721 L 53.4686 113.7908 L 49.7889 113.7908 L 49.7889 114.0001 L 51.1492 114.0001 L 51.1492 115.7091 L 51.3584 115.7091 L 51.3584 114.0001 L 53.4651 114.0001 L 55.9606 115.8573 L 55.9624 119.476 L 51.3584 119.476 L 51.3584 117.7669 L 51.1492 117.7669 L 51.1492 119.476 L 48.76 119.476 L 46.3708 119.476 L 46.3708 114.0001 L 47.7311 114.0001 L 47.7311 113.7908 L 46.3708 113.7908 L 46.3708 111.4888 L 43.4759 111.4888 L 43.4759 116.0928 L 37.7559 116.0928 L 37.7646 116.8112 L 43.2667 118.3093 L 43.2667 126.0505 L 41.8366 126.0505 L 41.8366 126.2598 L 47.7311 126.2598 L 47.7311 129.2419 L 47.9404 129.2419 L 47.9404 126.504 L 50.9399 126.504 L 50.9399 132.6426 L 47.9404 132.6426 L 47.9404 131.2997 L 47.7311 131.2997 L 47.7311 132.6426 L 46.1441 132.6426 L 46.1441 132.8518 L 47.4869 132.8518 L 47.4869 137.2465 L 42.7435 137.2465 L 42.7435 132.8518 L 44.0863 132.8518 L 44.0863 132.6426 L 38.1744 132.6426 L 38.1744 131.2823 L 28.3213 131.2823 L 28.3213 132.6251 L 25.3217 132.6251 L 25.3217 131.2823 L 25.1124 131.2823 L 25.1124 132.6251 L 18.721 132.6251 L 18.0984 132.0252 L 18.0845 132.2763 L 18.632 132.8344 L 22.1478 132.8344 L 22.1478 137.4383 L 12.4167 137.4383 L 12.4167 126.4865 L 15.7999 126.4865 L 15.7999 129.9587 L 16.3632 130.5376 L 16.3754 130.2795 L 16.0092 129.9133 L 16.0092 126.0209 L 16.0092 122.1267 L 17.352 122.1267 L 17.352 121.9174 L 16.0092 121.9174 L 16.0092 117.5228 L 17.352 117.5228 L 17.352 113.6861 L 14.4222 113.6861 L 14.4222 122.8766 L 12.3644 122.8766 L 12.3644 122.4406 L 12.1551 122.4406 L 12.1551 122.8766 L 5.2143 122.8766 L 5.2143 118.5517 L 12.1551 118.5517 L 12.1551 120.3828 L 12.3644 120.3828 L 12.3644 118.3424 L 5.2143 118.3424 L 5.2143 112.0992 L 12.3644 112.0992 L 12.3644 111.4539 L 12.1551 111.4539 L 12.1551 111.8899 L 5.2143 111.8899 L 5.2143 107.565 L 12.1551 107.565 L 12.1551 109.3961 L 12.2598 109.3961 L 12.3644 109.3961 L 12.3644 107.565 L 14.4222 107.565 L 14.4222 110.2332 L 20.0551 110.2332 L 20.0551 110.0239 L 18.7123 110.0239 L 18.7123 105.6292 L 23.4557 105.6292 L 23.4557 110.0239 L 22.1129 110.0239 L 22.1129 110.2332 L 25.0078 110.2332 L 25.0078 110.0239 L 23.665 110.0239 L 23.665 105.6292 L 28.4085 105.6292 L 28.4085 110.0239 L 27.0656 110.0239 L 27.0656 110.2332 L 31.8265 110.2332 L 31.8265 105.8734 L 34.0762 105.8734 L 34.0762 95.6366 L 50.5562 95.6366 M 25.2868 21.9908 L 25.2868 23.508 L 17.2997 23.508 L 17.2997 29.8908 L 18.6774 29.8908 L 20.0551 29.8908 L 20.0551 29.6815 L 18.7123 29.6815 L 18.7123 25.2868 L 23.4557 25.2868 L 23.4557 29.6815 L 22.1129 29.6815 L 22.1129 29.8908 L 25.0078 29.8908 L 25.0078 29.6815 L 23.665 29.6815 L 23.665 25.2868 L 28.4085 25.2868 L 28.4085 29.6815 L 27.0656 29.6815 L 27.0656 29.8908 L 31.8265 29.8908 L 31.8265 25.531 L 36.0643 25.5083 L 32.0881 21.5113 L 32.0881 20.4736 L 25.2868 20.4736 M 22.0757 33.9971 L 22.1129 34.5471 L 23.665 34.5471 L 23.665 40.5636 L 23.8743 40.5636 L 23.8743 39.3027 L 23.8743 38.0419 L 26.5163 37.3286 L 33.3786 37.3199 L 33.3786 35.7504 L 31.8265 35.7504 L 31.8265 33.3438 L 22.1129 33.3438 M 36.134 102.4815 L 36.134 105.8734 L 43.4759 105.8734 L 43.4759 108.0358 L 46.3708 108.0358 L 46.3708 101.9844 L 48.4984 101.9844 L 48.4984 101.7752 L 46.1616 101.7752 L 46.1616 106.7628 L 43.9991 106.7628 L 43.9991 104.623 L 41.8018 100.8457 L 41.8018 99.0895 L 36.134 99.0895 M 19.4098 115.6045 L 19.4098 117.5228 L 20.7526 117.5228 L 20.7526 121.9174 L 19.4098 121.9174 L 19.4098 122.1267 L 20.7526 122.1267 L 20.7526 123.9822 L 23.2308 126.4865 L 25.1124 126.4865 L 25.1124 129.2245 L 25.3217 129.2245 L 25.3217 126.4865 L 28.3213 126.4865 L 28.3213 127.8293 L 38.1744 127.8293 L 38.1744 126.2598 L 39.7788 126.2598 L 39.7788 126.0505 L 30.2221 126.0505 L 30.2378 118.2831 L 35.6422 116.8374 L 35.7155 116.82 L 35.7155 116.0928 L 31.8265 116.0928 L 31.8265 113.6861 L 25.374 113.6861 L 25.374 117.174 L 27.6934 117.174 L 27.6934 123.7834 L 24.7898 123.7834 L 22.6361 121.6297 L 22.6361 115.1336 L 23.3162 115.1336 L 23.3162 113.6861 L 19.4098 113.6861 M 43.4759 33.5094 L 43.4759 35.7504 L 42.3773 35.7504 L 41.2786 35.7504 L 41.2786 39.5085 L 41.2786 43.2667 L 41.8244 43.2667 L 42.3703 43.2667 L 42.4226 43.3748 C 42.4697 43.4724 43.5823 45.4117 43.7009 45.5983 L 43.7462 45.6733 L 44.2834 45.6733 L 44.8187 45.6733 L 44.8187 42.3424 L 44.8187 39.0115 L 46.6586 39.0115 L 48.4984 39.0115 L 48.4984 35.14 L 48.4984 31.2685 L 45.9872 31.2685 L 43.4759 31.2685 L 43.4759 33.5094 Z',
	],
	[MapType.SUBMERGED]: [ // not tested might require some small offset adjustments
		'M 40.1546 5.1509 C 40.609 5.231 40.9557 5.5777 41.0357 6.0321 L 41.0511 7.6076 L 42.6615 7.6076 L 42.6615 8.6898 L 44.5386 10.5669 L 44.5386 11.9978 L 41.1742 11.9978 L 41.1742 14.0359 L 43.2318 16.0576 L 45.1869 14.121 L 45.3079 13.7826 L 44.6617 13.7826 L 44.6607 10.4848 L 42.7846 8.618 L 42.7846 7.6076 L 48.6826 7.6076 L 48.6826 12.3619 L 47.2609 13.7826 L 46.5183 13.7826 L 46.5183 15.3365 L 44.1694 17.6978 L 46.6619 17.7111 L 46.6619 19.0549 L 49.616 19.0549 L 49.616 11.69 L 50.8264 11.69 L 50.8264 13.3517 L 50.9495 13.3517 L 50.9495 11.69 L 52.7138 11.69 L 52.7138 15.3519 L 50.9495 15.3519 L 50.9495 14.5621 L 50.8264 14.5621 L 50.8264 15.475 L 52.8369 15.475 L 52.8369 13.8749 L 55.3807 13.8749 L 55.3602 17.0803 C 55.2525 17.7122 54.7663 18.1984 54.1344 18.3061 L 50.8264 18.3266 L 50.8264 22.9988 L 50.8264 27.6711 L 49.7443 27.6711 L 48.6621 27.6711 L 48.6621 29.5584 L 49.1647 29.5584 L 49.1647 31.4561 L 49.2878 31.4561 L 49.2878 29.8456 L 51.0521 29.8456 L 51.0521 33.4563 L 49.2878 33.4563 L 49.2878 32.6664 L 49.1647 32.6664 L 49.1647 33.4563 L 48.2313 33.4563 L 48.2313 33.5793 L 49.0211 33.5793 L 49.0211 36.1642 L 46.2311 36.1642 L 46.2311 33.5793 L 47.0209 33.5793 L 47.0209 33.4563 L 46.2311 33.4563 L 46.2311 32.2859 L 45.3777 30.8098 L 44.754 30.7893 L 44.754 30.9124 L 45.2895 30.9175 L 46.108 32.3331 L 46.108 33.4563 L 43.5437 33.4563 L 43.5437 28.1429 L 44.1591 28.1429 L 44.1591 23.722 L 41.9332 23.722 L 41.9332 24.6451 L 42.2923 24.6451 L 42.2923 26.8813 L 40.7024 26.8813 L 40.7024 27.0043 L 42.2923 27.0043 L 42.2871 31.2458 L 42.2605 31.3176 C 42.1989 31.4827 42.1189 31.6099 42.002 31.7258 C 41.8266 31.9012 41.5896 32.0243 41.3147 32.0838 C 41.1639 32.1166 40.8767 32.1166 40.7259 32.0838 C 40.2449 31.9792 39.8889 31.6807 39.7741 31.2858 L 39.7484 31.1976 L 39.7484 29.1584 L 41.0819 29.1584 L 41.0819 29.0969 L 41.0819 29.0353 L 35.1326 29.0353 L 35.1326 27.7634 L 35.0095 27.7634 L 35.0095 28.4301 L 31.9733 28.4301 L 31.9733 23.0142 L 32.8862 23.0142 L 32.8862 22.3065 L 31.2655 22.3065 L 31.2655 28.7173 L 33.8299 28.7173 L 33.8299 32.0818 L 28.7217 32.0818 L 28.7217 27.2813 L 30.0552 27.2813 L 30.0552 22.3065 L 29.1217 22.3065 L 29.1217 26.3889 L 27.9339 26.3889 C 24.9778 25.4411 24.7429 25.0165 24.6546 24.5805 C 24.6167 21.5925 24.6167 21.5895 24.67 21.2807 C 24.7264 20.9473 24.8413 20.5576 24.9737 20.2478 C 25.4711 19.0826 26.4367 18.1064 27.6037 17.7337 C 28.0406 17.5706 28.4837 17.4803 29.012 17.4496 L 29.1217 17.4424 L 29.1217 20.2755 L 30.0552 20.2755 L 30.0552 16.5213 L 27.2652 16.5213 L 27.2652 8.3359 L 28.5053 8.3359 L 30.8337 9.6847 L 30.8347 10.9002 L 35.9634 10.9002 L 35.9634 12.7055 L 39.9638 12.7055 L 39.9638 11.9978 L 39.1689 11.9978 L 37.379 10.2068 L 37.379 7.6076 L 38.9176 7.6076 C 38.9176 6.0598 38.9196 6.03 38.975 5.8649 C 39.1422 5.3735 39.654 5.0638 40.1546 5.1509 M 50.8264 59.7767 L 50.8264 60.6076 L 50.9495 60.6076 L 50.9495 58.9459 L 52.7138 58.9459 L 52.7138 62.6078 L 50.9495 62.6078 L 50.9495 61.818 L 50.8264 61.818 L 50.8264 63.4489 L 54.0062 63.4489 L 54.0052 66.4082 L 52.5404 67.4954 L 52.5394 69.6239 L 50.3751 69.6239 L 50.3751 69.7469 L 51.1752 69.7469 L 51.1752 70.7522 L 51.2983 70.7522 L 51.2983 69.7469 L 52.5373 69.7469 L 54.0052 70.8394 L 54.0062 72.9678 L 51.2983 72.9678 L 51.2983 71.9625 L 51.1752 71.9625 L 51.1752 72.9678 L 49.7699 72.9678 L 48.3646 72.9678 L 48.3646 69.7469 L 49.1647 69.7469 L 49.1647 69.6239 L 48.3646 69.6239 L 48.3646 68.2699 L 46.6619 68.2699 L 46.6619 70.9778 L 43.2975 70.9778 L 43.3026 71.4004 L 46.5388 72.2815 L 46.5388 76.8348 L 45.6977 76.8348 L 45.6977 76.9579 L 49.1647 76.9579 L 49.1647 78.7119 L 49.2878 78.7119 L 49.2878 77.1015 L 51.0521 77.1015 L 51.0521 80.7121 L 49.2878 80.7121 L 49.2878 79.9223 L 49.1647 79.9223 L 49.1647 80.7121 L 48.2313 80.7121 L 48.2313 80.8352 L 49.0211 80.8352 L 49.0211 83.4201 L 46.2311 83.4201 L 46.2311 80.8352 L 47.0209 80.8352 L 47.0209 80.7121 L 43.5437 80.7121 L 43.5437 79.912 L 37.7482 79.912 L 37.7482 80.7018 L 35.9839 80.7018 L 35.9839 79.912 L 35.8609 79.912 L 35.8609 80.7018 L 32.1015 80.7018 L 31.7353 80.349 L 31.7271 80.4967 L 32.0492 80.8249 L 34.1171 80.8249 L 34.1171 83.5329 L 28.3935 83.5329 L 28.3935 77.0912 L 30.3834 77.0912 L 30.3834 79.1335 L 30.7147 79.474 L 30.7219 79.3222 L 30.5065 79.1068 L 30.5065 76.8174 L 30.5065 74.5269 L 31.2963 74.5269 L 31.2963 74.4038 L 30.5065 74.4038 L 30.5065 71.8189 L 31.2963 71.8189 L 31.2963 69.5623 L 29.5731 69.5623 L 29.5731 74.968 L 28.3627 74.968 L 28.3627 74.7115 L 28.2396 74.7115 L 28.2396 74.968 L 24.1572 74.968 L 24.1572 72.4241 L 28.2396 72.4241 L 28.2396 73.5012 L 28.3627 73.5012 L 28.3627 72.301 L 24.1572 72.301 L 24.1572 68.6289 L 28.3627 68.6289 L 28.3627 68.2494 L 28.2396 68.2494 L 28.2396 68.5058 L 24.1572 68.5058 L 24.1572 65.962 L 28.2396 65.962 L 28.2396 67.039 L 28.3012 67.039 L 28.3627 67.039 L 28.3627 65.962 L 29.5731 65.962 L 29.5731 67.5313 L 32.8862 67.5313 L 32.8862 67.4083 L 32.0964 67.4083 L 32.0964 64.8234 L 34.8864 64.8234 L 34.8864 67.4083 L 34.0966 67.4083 L 34.0966 67.5313 L 35.7993 67.5313 L 35.7993 67.4083 L 35.0095 67.4083 L 35.0095 64.8234 L 37.7995 64.8234 L 37.7995 67.4083 L 37.0097 67.4083 L 37.0097 67.5313 L 39.81 67.5313 L 39.81 64.967 L 41.1332 64.967 L 41.1332 58.9459 L 50.8264 58.9459 M 35.9634 15.6289 L 35.9634 16.5213 L 31.2655 16.5213 L 31.2655 20.2755 L 32.0759 20.2755 L 32.8862 20.2755 L 32.8862 20.1524 L 32.0964 20.1524 L 32.0964 17.5675 L 34.8864 17.5675 L 34.8864 20.1524 L 34.0966 20.1524 L 34.0966 20.2755 L 35.7993 20.2755 L 35.7993 20.1524 L 35.0095 20.1524 L 35.0095 17.5675 L 37.7995 17.5675 L 37.7995 20.1524 L 37.0097 20.1524 L 37.0097 20.2755 L 39.81 20.2755 L 39.81 17.7111 L 42.3025 17.6978 L 39.9638 15.3468 L 39.9638 14.7365 L 35.9634 14.7365 M 34.0747 22.6907 L 34.0966 23.0142 L 35.0095 23.0142 L 35.0095 26.553 L 35.1326 26.553 L 35.1326 25.8114 L 35.1326 25.0698 L 36.6866 24.6503 L 40.7229 24.6451 L 40.7229 23.722 L 39.81 23.722 L 39.81 22.3065 L 34.0966 22.3065 M 42.3435 62.9719 L 42.3435 64.967 L 46.6619 64.967 L 46.6619 66.2389 L 48.3646 66.2389 L 48.3646 62.6796 L 49.616 62.6796 L 49.616 62.5565 L 48.2415 62.5565 L 48.2415 65.4901 L 46.9696 65.4901 L 46.9696 64.2315 L 45.6772 62.0098 L 45.6772 60.9769 L 42.3435 60.9769 M 32.5067 70.6906 L 32.5067 71.8189 L 33.2965 71.8189 L 33.2965 74.4038 L 32.5067 74.4038 L 32.5067 74.5269 L 33.2965 74.5269 L 33.2965 75.6183 L 34.7541 77.0912 L 35.8609 77.0912 L 35.8609 78.7017 L 35.9839 78.7017 L 35.9839 77.0912 L 37.7482 77.0912 L 37.7482 77.8811 L 43.5437 77.8811 L 43.5437 76.9579 L 44.4873 76.9579 L 44.4873 76.8348 L 38.8663 76.8348 L 38.8755 72.2662 L 42.0543 71.4158 L 42.0974 71.4056 L 42.0974 70.9778 L 39.81 70.9778 L 39.81 69.5623 L 36.0147 69.5623 L 36.0147 71.6138 L 37.379 71.6138 L 37.379 75.5013 L 35.6711 75.5013 L 34.4043 74.2346 L 34.4043 70.4137 L 34.8043 70.4137 L 34.8043 69.5623 L 32.5067 69.5623 M 46.6619 22.4039 L 46.6619 23.722 L 46.0157 23.722 L 45.3695 23.722 L 45.3695 25.9324 L 45.3695 28.1429 L 45.6905 28.1429 L 46.0116 28.1429 L 46.0424 28.2065 C 46.0701 28.264 46.7245 29.4046 46.7942 29.5143 L 46.8209 29.5584 L 47.1368 29.5584 L 47.4517 29.5584 L 47.4517 27.5993 L 47.4517 25.6401 L 48.5339 25.6401 L 49.616 25.6401 L 49.616 23.363 L 49.616 21.0858 L 48.139 21.0858 L 46.6619 21.0858 L 46.6619 22.4039 Z'
	],
	[MapType.THE_SKELD_APRIL]: undefined,
	[MapType.UNKNOWN]: undefined,
};

export const doorMaps: { [key in MapType]: { [key in number]: string | undefined } | undefined } = {
	[MapType.MIRA_HQ]: {
		0: 'M 45.008 36.849 H 47.187',
		1: 'M 45.008 30.307 H 47.187',
	},
	[MapType.POLUS]: {
		0: 'M 51.35 48.227 L 51.369 50.09', // right elecrtrical door
		1: 'M 48.426 50.094 V 50.515 H 46.964', // electical vence door
		2: 'M 44.594 53.511 H 46.486', // electical door to o
		3: 'M 44.566 57.666 H 46.477', // o2 door to electical
		4: 'M 45.27 61.755 H 46.701', // o2 to outside
		5: 'M 52.41 60.07 H 54.127', // Weapons door
		6: 'M 50.189 59.272 H 51.771', // communications door
		7: 'M 68.822 55.941 V 57.483', // office vidals door
		8: 'M 57.445 60.539 V 62.21', // office left door
		9: 'M 66.087 48.323 H 67.422', // door to drill
		10: 'M 64.894 48.653 V 50.117', // door outside to med
		11: 'M 57.354 49.784 V 51.414', // storage door
		12: 'M 65.552 63.143 V 64.9', // decom door office->spec
		13: 'M 63.324 63.159 H 65.536', // decom door spec->office
		14: 'M 78.198 50.885 V 48.433', // decom door med->spec
		15: 'M 78.198 50.885 H 79.987', // decom door spec->med
	},
	[MapType.THE_SKELD]: {
		0: 'M 44.882 37.745 V 39.521', // cafetaria-> weapons
		3: 'M 38.561 44.6841 H 40.068', // cafetaria -> Admin hallway
		8: 'M 33.899 37.680 V 39.613', // cafetaria -> medbay hallway
		10: 'M 30.301 39.7466 H 31.806', //medbay
		2: 'M 25.43 39.589 V 37.655', // upperengine <- medbay hallway
		5: 'M 22.615 42.000 H 24.108', // upperengine <- security hallway
		6: 'M 25.154 44.154 V 45.953', // security
		4: 'M 22.652 48.658 H 24.169', // lowerengine <- security hallway
		11: 'M 25.4117 52.012 V 50.274', // lowerengine <- Elecrtical hallway //25.4117 51.3337
		9: 'M 29.946 53.126 H 31.366', // elecrtrical
		1: 'M 25.418 52.012 V 50.274', //storage -> Electrical
		7: 'M 34.989 54.864 V 53.052', // storage -> Admin
		12: 'M 40.961 52.624 V 50.849', // storage -> shields
	},
	[MapType.SUBMERGED]: undefined,
	[MapType.AIRSHIP]: undefined,
	[MapType.THE_SKELD_APRIL]: undefined,
	[MapType.UNKNOWN]: undefined,
};

export function poseCollide(p1: Vector2, p2: Vector2, map: MapType, closedDoors: number[]): boolean {
	//  console.log(p1.x + 40, 40 - p1.y);
	//console.log(colliderMaps[MapType.MIRA_HQ]?.join(' '));
	const colliderMap = colliderMaps[map];
	if (!colliderMap || map === MapType.UNKNOWN) {
		return false;
	}
	for (const collider of colliderMap) {
		const intersections = intersect(collider, `M ${p1.x + 40} ${40 - p1.y} L ${p2.x + 40} ${40 - p2.y}`);
		if (intersections.length > 0) {
			//	console.log(intersections)
			return true;
		}
	}
	// console.log('Closed doors: ', closedDoors);
	// if (map === MapType.POLUS) { // temp only polus
	const doorMap = doorMaps[map];
	if (!doorMap) {
		return false;
	}
	for (const doorId of Object.values(closedDoors)) {
		const doorPath = doorMap[doorId];
		if (doorPath) {
			const intersections = intersect(doorPath, `M ${p1.x + 40} ${40 - p1.y} L ${p2.x + 40} ${40 - p2.y}`);
			if (intersections.length > 0) {
				return true;
			}
		}
	}
	return false;
}
